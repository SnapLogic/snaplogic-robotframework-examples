<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triggered Task Keywords Guide - SnapLogic Robot Framework</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        h2 {
            color: #34495e;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 30px;
            margin-bottom: 20px;
        }
        h3 {
            color: #2980b9;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        h4 {
            color: #7f8c8d;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        p {
            margin-bottom: 15px;
        }
        .card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 25px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        .highlight-box {
            background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%);
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .highlight-box h3 {
            color: #0c5460;
            margin-top: 0;
        }
        code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        .code-box {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px 20px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
            font-size: 0.9em;
            white-space: pre-wrap;
        }
        .code-box pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            white-space: pre;
            color: inherit;
        }
        .code-box .keyword {
            color: #e74c3c;
        }
        .code-box .string {
            color: #2ecc71;
        }
        .code-box .comment {
            color: #95a5a6;
        }
        .code-box .variable {
            color: #f39c12;
        }
        .code-box .value {
            color: #3498db;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #3498db;
            color: white;
        }
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        tr:hover {
            background: #e9ecef;
        }
        .toc {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .toc h3 {
            margin-top: 0;
            color: #495057;
        }
        .toc ul {
            list-style-type: none;
            padding-left: 0;
        }
        .toc li {
            margin: 8px 0;
        }
        .toc a {
            color: #3498db;
            text-decoration: none;
        }
        .toc a:hover {
            text-decoration: underline;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 0 5px 5px 0;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border: 1px solid #28a745;
            border-left: 4px solid #28a745;
            padding: 15px;
            border-radius: 0 5px 5px 0;
            margin: 15px 0;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #17a2b8;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            border-radius: 0 5px 5px 0;
            margin: 15px 0;
        }
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 5px;
        }
        .badge-required {
            background: #e74c3c;
            color: white;
        }
        .badge-optional {
            background: #3498db;
            color: white;
        }
        .badge-keyword {
            background: #9b59b6;
            color: white;
        }
        .flow-diagram {
            background: #1a252f;
            color: #ecf0f1;
            padding: 25px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            overflow-x: auto;
            margin: 20px 0;
        }
        .flow-diagram pre {
            margin: 0;
            white-space: pre;
        }
        .keyword-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
        }
        .keyword-box h3 {
            color: white;
            margin-top: 0;
        }
        .library-highlight {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }
        .library-highlight h3 {
            color: white;
            margin-top: 0;
        }
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            margin-right: 10px;
        }
        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        li {
            margin: 8px 0;
        }
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        @media (max-width: 768px) {
            .two-column {
                grid-template-columns: 1fr;
            }
        }
        .service-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 10px 0;
        }
        .service-card h4 {
            margin-top: 0;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .tip {
            background: #e0e0e0;
            border-left: 4px solid #616161;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            color: #212121;
        }
        .tip strong {
            color: #212121;
        }
        .tip p {
            margin: 10px 0 0 0;
            color: #212121;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Triggered Task Keywords Guide</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            SnapLogic Robot Framework - Task Creation and Execution Keywords
        </p>

        <!-- Table of Contents -->
        <div class="toc">
            <h3>Table of Contents</h3>
            <ul>
                <li><a href="#overview">1. Overview</a></li>
                <li><a href="#library-source">2. Keywords Library Source</a></li>
                <li><a href="#create-triggered-task">3. Create Triggered Task From Template</a></li>
                <li><a href="#execute-triggered-task">4. Run Triggered Task With Parameters From Template</a></li>
                <li><a href="#workflow">5. Complete Workflow Example</a></li>
                <li><a href="#best-practices">6. Best Practices</a></li>
            </ul>
        </div>

        <!-- Section 1: Overview -->
        <div id="overview" class="card">
            <h2>1. Overview</h2>
            <p>Triggered Tasks in SnapLogic are on-demand pipeline executions that can be started via API calls, schedules, or manual triggers. This guide covers the Robot Framework keywords used to create and execute triggered tasks for automated testing.</p>

            <div class="highlight-box">
                <h3>What Are Triggered Tasks?</h3>
                <ul>
                    <li><strong>Triggered Tasks:</strong> On-demand pipeline executions that run when explicitly invoked</li>
                    <li><strong>Parameters:</strong> Dynamic values that can be passed at runtime to customize execution</li>
                    <li><strong>Notifications:</strong> Email alerts configured for task completion or failure states</li>
                </ul>
            </div>

            <div class="flow-diagram">
<pre>
    ┌─────────────────────────────────────────────────────────────────────────────────────┐
    │                        TRIGGERED TASK WORKFLOW                                       │
    └────────────────────────────────────┬────────────────────────────────────────────────┘
                                         │
                                         ▼
    ┌─────────────────────────────────────────────────────────────────────────────────────┐
    │  Step 1: Create Account (if needed)                                                  │
    │          Create Account From Template                                                │
    └────────────────────────────────────┬────────────────────────────────────────────────┘
                                         │
                                         ▼
    ┌─────────────────────────────────────────────────────────────────────────────────────┐
    │  Step 2: Import Pipeline                                                             │
    │          Import Pipelines From Template                                              │
    └────────────────────────────────────┬────────────────────────────────────────────────┘
                                         │
                                         ▼
    ┌─────────────────────────────────────────────────────────────────────────────────────┐
    │  Step 3: Create Triggered Task                                                       │
    │          Create Triggered Task From Template                                         │
    └────────────────────────────────────┬────────────────────────────────────────────────┘
                                         │
                                         ▼
    ┌─────────────────────────────────────────────────────────────────────────────────────┐
    │  Step 4: Execute Triggered Task                                                      │
    │          Run Triggered Task With Parameters From Template                            │
    └────────────────────────────────────┬────────────────────────────────────────────────┘
                                         │
                                         ▼
    ┌─────────────────────────────────────────────────────────────────────────────────────┐
    │  Step 5: Verify Results                                                              │
    │          Query database, compare outputs, validate data                              │
    └─────────────────────────────────────────────────────────────────────────────────────┘
</pre>
            </div>
        </div>

        <!-- Section 2: Library Source -->
        <div id="library-source" class="card">
            <h2>2. Keywords Library Source</h2>

            <div class="library-highlight">
                <h3>snaplogic-common-robot Library</h3>
                <p>All the triggered task keywords used in this framework are provided by the <strong>snaplogic-common-robot</strong> Python package. This library contains pre-built SnapLogic API keywords for interacting with the SnapLogic platform.</p>
            </div>

            <h3>Resource File Location</h3>
            <p>The keywords are defined in the snaplogic-common-robot library's resource file:</p>
            <div class="code-box">
<pre><span class="comment"># Keywords resource file path inside snaplogic-common-robot package</span>
<span class="string">snaplogic_common_robot/snaplogic_apis_keywords/snaplogic_keywords.resource</span></pre>
            </div>

            <h3>How to Import in Your Robot Tests</h3>
            <div class="code-box">
<pre><span class="keyword">*** Settings ***</span>
<span class="variable">Resource</span>    <span class="string">snaplogic_common_robot/snaplogic_apis_keywords/snaplogic_keywords.resource</span></pre>
            </div>

            <div class="info">
                <strong>Note:</strong> The snaplogic-common-robot package is automatically installed in the tools container via requirements.txt when you run <code>make start-services</code>. You don't need to install it manually.
            </div>

            <h3>View Keyword Content Inside Container</h3>
            <p>To view the actual keyword definitions inside the running container:</p>
            <div class="code-box">
<pre><span class="comment"># View Create Triggered Task keyword definition</span>
docker exec snaplogic-test-example-tools-container bash -c \
  "find /usr/local/lib -name 'snaplogic_keywords.resource' -exec grep -A 50 'Create Triggered Task From Template' {} \;"</pre>
            </div>
        </div>

        <!-- Section 3: Create Triggered Task -->
        <div id="create-triggered-task" class="card">
            <h2>3. Create Triggered Task From Template</h2>

            <div class="keyword-box">
                <h3>Create Triggered Task From Template</h3>
                <p>Creates a triggered task for a specified pipeline with configurable parameters and notifications.</p>
            </div>

            <h3>Keyword Syntax</h3>
            <div class="code-box">
<pre><span class="keyword">Create Triggered Task From Template</span>
    <span class="variable">${unique_id}</span>
    <span class="variable">${PIPELINES_LOCATION_PATH}</span>
    <span class="variable">${pipeline_name}</span>
    <span class="variable">${task_name}</span>
    <span class="variable">${GROUNDPLEX_NAME}</span>           <span class="comment"># Optional</span>
    <span class="variable">${task_params_set}</span>           <span class="comment"># Optional</span>
    <span class="variable">task_notifications=${dict}</span>   <span class="comment"># Optional</span>
    <span class="variable">execution_timeout=300</span>        <span class="comment"># Optional</span></pre>
            </div>

            <h3>Parameter Details</h3>
            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Type</th>
                        <th>Required</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>unique_id</code></td>
                        <td>String</td>
                        <td><span class="badge badge-required">Required</span></td>
                        <td>Unique identifier for the test execution. Generated using <code>Get Unique Id</code> keyword in suite setup. Used to track and identify tasks.</td>
                    </tr>
                    <tr>
                        <td><code>PIPELINES_LOCATION_PATH</code></td>
                        <td>String</td>
                        <td><span class="badge badge-required">Required</span></td>
                        <td>The SnapLogic project path where the pipeline is located. Example: <code>/org/project/pipelines</code></td>
                    </tr>
                    <tr>
                        <td><code>pipeline_name</code></td>
                        <td>String</td>
                        <td><span class="badge badge-required">Required</span></td>
                        <td>The name of the pipeline for which the task will be created (without .slp extension).</td>
                    </tr>
                    <tr>
                        <td><code>task_name</code></td>
                        <td>String</td>
                        <td><span class="badge badge-required">Required</span></td>
                        <td>The name to assign to the triggered task. This will be visible in SnapLogic Manager.</td>
                    </tr>
                    <tr>
                        <td><code>GROUNDPLEX_NAME</code></td>
                        <td>String</td>
                        <td><span class="badge badge-optional">Optional</span></td>
                        <td>Name of the Snaplex (execution environment) where the task will run. If omitted, uses the default Snaplex.</td>
                    </tr>
                    <tr>
                        <td><code>task_params_set</code></td>
                        <td>Dictionary</td>
                        <td><span class="badge badge-optional">Optional</span></td>
                        <td>Dictionary of pipeline parameters with their default values. These can be overridden at execution time.</td>
                    </tr>
                    <tr>
                        <td><code>task_notifications</code></td>
                        <td>Dictionary</td>
                        <td><span class="badge badge-optional">Optional</span></td>
                        <td>Dictionary containing <code>recipients</code> (email addresses) and <code>states</code> (Completed, Failed) for email notifications.</td>
                    </tr>
                    <tr>
                        <td><code>execution_timeout</code></td>
                        <td>Integer</td>
                        <td><span class="badge badge-optional">Optional</span></td>
                        <td>Maximum execution time in seconds before the task times out. Default varies by configuration.</td>
                    </tr>
                </tbody>
            </table>

            <h3>Usage Examples</h3>

            <h4>Example 1: Basic Task Creation (Required Parameters Only)</h4>
            <div class="code-box">
<pre><span class="keyword">*** Test Cases ***</span>
Create Basic Triggered Task
    [Tags]    task_creation
    [Template]    <span class="keyword">Create Triggered Task From Template</span>

    <span class="comment"># unique_id    pipeline_path    pipeline_name    task_name</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">my_pipeline</span>    <span class="string">Basic_Task</span></pre>
            </div>

            <h4>Example 2: Task with Snaplex Specified</h4>
            <div class="code-box">
<pre><span class="keyword">*** Test Cases ***</span>
Create Task On Specific Groundplex
    [Tags]    task_creation    groundplex
    [Template]    <span class="keyword">Create Triggered Task From Template</span>

    <span class="comment"># unique_id    pipeline_path    pipeline_name    task_name    groundplex</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">my_pipeline</span>    <span class="string">Task</span>    <span class="variable">${GROUNDPLEX_NAME}</span></pre>
            </div>

            <h4>Example 3: Task with Parameters</h4>
            <div class="code-box">
<pre><span class="keyword">*** Variables ***</span>
<span class="comment"># Define task parameters as a dictionary</span>
<span class="variable">&{task_params_set}</span>
...    <span class="string">snowflake_acct=../shared/snowflake_account</span>
...    <span class="string">schema=DEMO</span>
...    <span class="string">table=DEMO.TEST_TABLE</span>
...    <span class="string">destination_hint=BRAZE:Subscription</span>
...    <span class="string">isTest=test</span>
...    <span class="string">test_input_file=/path/to/input.json</span>

<span class="keyword">*** Test Cases ***</span>
Create Task With Parameters
    [Tags]    task_creation    with_params
    [Template]    <span class="keyword">Create Triggered Task From Template</span>

    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">snowflake_pipeline</span>    <span class="string">Task</span>    <span class="variable">${GROUNDPLEX_NAME}</span>    <span class="variable">${task_params_set}</span></pre>
            </div>

            <h4>Example 4: Task with Notifications and Timeout</h4>
            <div class="code-box">
<pre><span class="keyword">*** Variables ***</span>
<span class="comment"># Define notification settings</span>
<span class="variable">@{notification_states}</span>    <span class="string">Completed</span>    <span class="string">Failed</span>
<span class="variable">&{task_notifications}</span>
...    <span class="string">recipients=team@company.com</span>
...    <span class="string">states=${notification_states}</span>

<span class="keyword">*** Test Cases ***</span>
Create Task With Notifications
    [Tags]    task_creation    notifications
    [Template]    <span class="keyword">Create Triggered Task From Template</span>

    <span class="comment"># With notifications and 5 minute timeout</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">my_pipeline</span>    <span class="string">Task</span>    <span class="variable">${GROUNDPLEX_NAME}</span>    <span class="variable">${task_params_set}</span>    <span class="variable">task_notifications=${task_notifications}</span>    <span class="variable">execution_timeout=300</span></pre>
            </div>

            <h4>Example 5: Task with Timeout Only (No Notifications)</h4>
            <div class="code-box">
<pre><span class="keyword">*** Test Cases ***</span>
Create Task With Timeout
    [Tags]    task_creation    timeout
    [Template]    <span class="keyword">Create Triggered Task From Template</span>

    <span class="comment"># Using named argument for timeout</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">my_pipeline</span>    <span class="string">Task</span>    <span class="variable">${GROUNDPLEX_NAME}</span>    <span class="variable">${task_params_set}</span>    <span class="variable">execution_timeout=300</span></pre>
            </div>
        </div>

        <!-- Section 4: Execute Triggered Task -->
        <div id="execute-triggered-task" class="card">
            <h2>4. Run Triggered Task With Parameters From Template</h2>

            <div class="keyword-box">
                <h3>Run Triggered Task With Parameters From Template</h3>
                <p>Executes a previously created triggered task, optionally overriding parameters at runtime.</p>
            </div>

            <h3>Keyword Syntax</h3>
            <div class="code-box">
<pre><span class="keyword">Run Triggered Task With Parameters From Template</span>
    <span class="variable">${unique_id}</span>
    <span class="variable">${PIPELINES_LOCATION_PATH}</span>
    <span class="variable">${pipeline_name}</span>
    <span class="variable">${task_name}</span>
    <span class="variable">param1=value1</span>                <span class="comment"># Optional key=value overrides</span>
    <span class="variable">param2=value2</span>                <span class="comment"># Optional key=value overrides</span>
    <span class="variable">...</span></pre>
            </div>

            <h3>Parameter Details</h3>
            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Type</th>
                        <th>Required</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>unique_id</code></td>
                        <td>String</td>
                        <td><span class="badge badge-required">Required</span></td>
                        <td>Must match the unique_id used when creating the task. Used to locate the correct task.</td>
                    </tr>
                    <tr>
                        <td><code>PIPELINES_LOCATION_PATH</code></td>
                        <td>String</td>
                        <td><span class="badge badge-required">Required</span></td>
                        <td>The SnapLogic project path where the pipeline is located. Must match the path used during task creation.</td>
                    </tr>
                    <tr>
                        <td><code>pipeline_name</code></td>
                        <td>String</td>
                        <td><span class="badge badge-required">Required</span></td>
                        <td>The name of the pipeline associated with the task. Must match the pipeline name used during creation.</td>
                    </tr>
                    <tr>
                        <td><code>task_name</code></td>
                        <td>String</td>
                        <td><span class="badge badge-required">Required</span></td>
                        <td>The name of the triggered task to execute. Must match the task name used during creation.</td>
                    </tr>
                    <tr>
                        <td><code>key=value pairs</code></td>
                        <td>Named Arguments</td>
                        <td><span class="badge badge-optional">Optional</span></td>
                        <td>Any number of key=value pairs to override task parameters at runtime. These override the default values set during task creation.</td>
                    </tr>
                </tbody>
            </table>

            <h3>Usage Examples</h3>

            <h4>Example 1: Execute Task Without Parameter Overrides</h4>
            <div class="code-box">
<pre><span class="keyword">*** Test Cases ***</span>
Execute Basic Triggered Task
    [Documentation]    Executes task with default parameters
    [Tags]    task_execution
    [Template]    <span class="keyword">Run Triggered Task With Parameters From Template</span>

    <span class="comment"># unique_id    pipeline_path    pipeline_name    task_name</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">my_pipeline</span>    <span class="string">Task</span></pre>
            </div>

            <h4>Example 2: Execute Task With Single Parameter Override</h4>
            <div class="code-box">
<pre><span class="keyword">*** Test Cases ***</span>
Execute Task With Input File Override
    [Documentation]    Executes task with a different input file
    [Tags]    task_execution    param_override
    [Template]    <span class="keyword">Run Triggered Task With Parameters From Template</span>

    <span class="comment"># Override the test_input_file parameter at runtime</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">snowflake_pipeline</span>    <span class="string">Task</span>    <span class="variable">test_input_file=test_data.json</span></pre>
            </div>

            <h4>Example 3: Execute Task With Multiple Parameter Overrides</h4>
            <div class="code-box">
<pre><span class="keyword">*** Test Cases ***</span>
Execute Task With Multiple Overrides
    [Documentation]    Executes task with multiple parameter overrides
    [Tags]    task_execution    multiple_params
    [Template]    <span class="keyword">Run Triggered Task With Parameters From Template</span>

    <span class="comment"># Override multiple parameters at runtime</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">etl_pipeline</span>    <span class="string">Task</span>    <span class="variable">schema=TEST_SCHEMA</span>    <span class="variable">table=TEST_TABLE</span>    <span class="variable">batch_size=1000</span></pre>
            </div>

            <h4>Example 4: Multiple Task Executions with Different Data</h4>
            <div class="code-box">
<pre><span class="keyword">*** Test Cases ***</span>
Execute Task With Different Input Files
    [Documentation]    Runs the same task multiple times with different input files
    [Tags]    task_execution    data_driven
    [Template]    <span class="keyword">Run Triggered Task With Parameters From Template</span>

    <span class="comment"># Same task, different input files (data-driven testing)</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">snowflake_pipeline</span>    <span class="string">Task</span>    <span class="variable">test_input_file=input_file1.json</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">snowflake_pipeline</span>    <span class="string">Task</span>    <span class="variable">test_input_file=input_file2.json</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="string">snowflake_pipeline</span>    <span class="string">Task</span>    <span class="variable">test_input_file=input_file3.json</span></pre>
            </div>

            <h4>Example 5: Execute Task Using Variable for Input</h4>
            <div class="code-box">
<pre><span class="keyword">*** Variables ***</span>
<span class="variable">${input_file1_name}</span>    <span class="string">test_input_file1.json</span>
<span class="variable">${input_file2_name}</span>    <span class="string">test_input_file2.json</span>

<span class="keyword">*** Test Cases ***</span>
Execute Task Using Variables
    [Documentation]    Uses variables for parameter values
    [Tags]    task_execution
    [Template]    <span class="keyword">Run Triggered Task With Parameters From Template</span>

    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="variable">${pipeline_name}</span>    <span class="variable">${task_name}</span>    <span class="variable">test_input_file=${input_file1_name}</span></pre>
            </div>

            <div class="tip">
                <strong>Parameter Override Tip</strong>
                <p>When using parameter overrides, the parameter names must match exactly with the parameters defined in the pipeline. Parameter names are case-sensitive.</p>
            </div>
        </div>

        <!-- Section 5: Workflow Example -->
        <div id="workflow" class="card">
            <h2>5. Complete Workflow Example</h2>
            <p>Here's a complete example showing how to create and execute triggered tasks in a real test scenario:</p>

            <div class="code-box">
<pre><span class="keyword">*** Settings ***</span>
<span class="variable">Documentation</span>       Complete Triggered Task Workflow Example
<span class="variable">Library</span>             Collections
<span class="variable">Resource</span>            <span class="string">snaplogic_common_robot/snaplogic_apis_keywords/snaplogic_keywords.resource</span>
<span class="variable">Suite Setup</span>         Initialize Test Environment
<span class="variable">Suite Teardown</span>      Cleanup Test Resources

<span class="keyword">*** Variables ***</span>
<span class="comment"># Pipeline Configuration</span>
<span class="variable">${pipeline_name}</span>                snowflake_etl
<span class="variable">${pipeline_file_name}</span>           snowflake_etl.slp
<span class="variable">${task_name}</span>                    ETL_Task

<span class="comment"># Test Data Files</span>
<span class="variable">${input_file1}</span>                  test_data_batch1.json
<span class="variable">${input_file2}</span>                  test_data_batch2.json

<span class="comment"># Task Parameters</span>
<span class="variable">&{task_params_set}</span>
...    <span class="string">snowflake_acct=../shared/snowflake_account</span>
...    <span class="string">schema=TEST_SCHEMA</span>
...    <span class="string">table=TEST_SCHEMA.TARGET_TABLE</span>
...    <span class="string">batch_size=1000</span>

<span class="comment"># Notification Settings</span>
<span class="variable">@{notification_states}</span>          Completed    Failed
<span class="variable">&{task_notifications}</span>
...    <span class="string">recipients=qa-team@company.com</span>
...    <span class="string">states=${notification_states}</span>

<span class="keyword">*** Test Cases ***</span>
Step 1 - Create Snowflake Account
    [Documentation]    Creates the required Snowflake account
    [Tags]    setup    account
    [Template]    <span class="keyword">Create Account From Template</span>
    <span class="variable">${ACCOUNT_LOCATION_PATH}</span>    <span class="variable">${SNOWFLAKE_PAYLOAD_FILE}</span>    <span class="string">snowflake_account</span>

Step 2 - Import ETL Pipeline
    [Documentation]    Imports the ETL pipeline into SnapLogic
    [Tags]    setup    pipeline
    [Template]    <span class="keyword">Import Pipelines From Template</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="variable">${pipeline_name}</span>    <span class="variable">${pipeline_file_name}</span>

Step 3 - Create Triggered Task
    [Documentation]    Creates the triggered task with parameters and notifications
    [Tags]    setup    task
    [Template]    <span class="keyword">Create Triggered Task From Template</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="variable">${pipeline_name}</span>    <span class="variable">${task_name}</span>    <span class="variable">${GROUNDPLEX_NAME}</span>    <span class="variable">${task_params_set}</span>    <span class="variable">task_notifications=${task_notifications}</span>    <span class="variable">execution_timeout=600</span>

Step 4 - Execute Task With First Batch
    [Documentation]    Runs the task with first batch of test data
    [Tags]    execution    batch1
    [Template]    <span class="keyword">Run Triggered Task With Parameters From Template</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="variable">${pipeline_name}</span>    <span class="variable">${task_name}</span>    <span class="variable">input_file=${input_file1}</span>

Step 5 - Execute Task With Second Batch
    [Documentation]    Runs the task with second batch of test data
    [Tags]    execution    batch2
    [Template]    <span class="keyword">Run Triggered Task With Parameters From Template</span>
    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>    <span class="variable">${pipeline_name}</span>    <span class="variable">${task_name}</span>    <span class="variable">input_file=${input_file2}</span>

<span class="keyword">*** Keywords ***</span>
Initialize Test Environment
    [Documentation]    Sets up test environment and generates unique ID
    <span class="variable">${unique_id}</span>=    <span class="keyword">Get Unique Id</span>
    <span class="keyword">Set Suite Variable</span>    <span class="variable">${unique_id}</span>
    <span class="keyword">Log</span>    Test execution ID: <span class="variable">${unique_id}</span>

Cleanup Test Resources
    [Documentation]    Cleans up created tasks and pipelines
    <span class="comment"># Delete task, pipeline, and account after tests</span>
    <span class="keyword">Delete Task</span>    <span class="variable">${unique_id}</span>    <span class="variable">${pipeline_name}</span>    <span class="variable">${task_name}</span>
    <span class="keyword">Delete Pipeline</span>    <span class="variable">${unique_id}</span>    <span class="variable">${pipeline_name}</span>
    <span class="keyword">Delete Account By Name And Path</span>    <span class="string">snowflake_account</span>    <span class="variable">${ACCOUNT_LOCATION_PATH}</span></pre>
            </div>
        </div>

        <!-- Section 6: Best Practices -->
        <div id="best-practices" class="card">
            <h2>6. Best Practices</h2>

            <div class="two-column">
                <div class="service-card">
                    <h4>Task Creation</h4>
                    <ul>
                        <li>Always use <code>Get Unique Id</code> in suite setup to generate consistent identifiers</li>
                        <li>Store the unique_id as a suite variable for use across test cases</li>
                        <li>Set appropriate execution timeouts based on expected pipeline duration</li>
                        <li>Use meaningful task names that indicate the purpose</li>
                    </ul>
                </div>
                <div class="service-card">
                    <h4>Task Execution</h4>
                    <ul>
                        <li>Ensure task is created before attempting execution</li>
                        <li>Use parameter overrides for data-driven testing scenarios</li>
                        <li>Wait for task completion before verification steps</li>
                        <li>Handle both success and failure scenarios in tests</li>
                    </ul>
                </div>
            </div>

            <h3>Common Patterns</h3>

            <h4>Pattern 1: Sequential Test Execution</h4>
            <div class="code-box">
<pre><span class="comment"># Use tags to control execution order</span>
[Tags]    <span class="string">01_setup</span>    <span class="comment"># First: Create account</span>
[Tags]    <span class="string">02_import</span>   <span class="comment"># Second: Import pipeline</span>
[Tags]    <span class="string">03_create</span>   <span class="comment"># Third: Create task</span>
[Tags]    <span class="string">04_execute</span>  <span class="comment"># Fourth: Execute task</span>
[Tags]    <span class="string">05_verify</span>   <span class="comment"># Fifth: Verify results</span></pre>
            </div>

            <h4>Pattern 2: Data-Driven Testing</h4>
            <div class="code-box">
<pre><span class="comment"># Use Template with multiple data rows</span>
[Template]    <span class="keyword">Run Triggered Task With Parameters From Template</span>
<span class="comment"># Each row executes the task with different parameters</span>
<span class="variable">${unique_id}</span>    <span class="variable">${path}</span>    <span class="variable">${pipeline}</span>    <span class="variable">${task}</span>    <span class="variable">input=data1.json</span>
<span class="variable">${unique_id}</span>    <span class="variable">${path}</span>    <span class="variable">${pipeline}</span>    <span class="variable">${task}</span>    <span class="variable">input=data2.json</span>
<span class="variable">${unique_id}</span>    <span class="variable">${path}</span>    <span class="variable">${pipeline}</span>    <span class="variable">${task}</span>    <span class="variable">input=data3.json</span></pre>
            </div>

            <h4>Pattern 3: Reusable Keyword for End-to-End Testing</h4>
            <div class="code-box">
<pre><span class="keyword">Execute Pipeline And Verify Output</span>
    [Arguments]    <span class="variable">${input_file}</span>    <span class="variable">${expected_output}</span>    <span class="variable">${actual_output_path}</span>

    <span class="comment"># Step 1: Run pipeline</span>
    <span class="keyword">Run Triggered Task With Parameters From Template</span>
    ...    <span class="variable">${unique_id}</span>    <span class="variable">${PIPELINES_LOCATION_PATH}</span>
    ...    <span class="variable">${pipeline_name}</span>    <span class="variable">${task_name}</span>
    ...    <span class="variable">input_file=${input_file}</span>

    <span class="comment"># Step 2: Verify database records</span>
    <span class="keyword">Capture And Verify Number of records From DB Table</span>
    ...    <span class="variable">${table_name}</span>    <span class="variable">${schema}</span>    <span class="variable">${order_by}</span>    <span class="variable">${expected_count}</span>

    <span class="comment"># Step 3: Export and compare</span>
    <span class="keyword">Export DB Table Data To CSV</span>    <span class="variable">${table_name}</span>    <span class="variable">${order_by}</span>    <span class="variable">${actual_output_path}</span>
    <span class="keyword">Compare CSV Files</span>    <span class="variable">${actual_output_path}</span>    <span class="variable">${expected_output}</span></pre>
            </div>

            <div class="success">
                <strong>Remember:</strong> Always clean up test resources (tasks, pipelines, accounts) in the Suite Teardown to avoid cluttering the SnapLogic project space.
            </div>
        </div>

        <footer style="text-align: center; margin-top: 40px; padding: 20px; color: #666; border-top: 1px solid #ddd;">
            <p>Generated for SnapLogic Robot Framework Examples Project</p>
            <p style="font-size: 0.9em;">Last Updated: January 2026</p>
        </footer>
    </div>
</body>
</html>
