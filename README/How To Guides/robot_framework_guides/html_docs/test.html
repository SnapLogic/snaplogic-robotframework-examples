<svg width="900" height="700" xmlns="http://www.w3.org/2000/svg">
    <rect width="900" height="700" fill="#f8f9fa" />

    <!-- Title -->
    <text x="450" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333" font-family="Arial">Test
        Execution Flow</text>

    <!-- Robot Framework Layer (left side) -->
    <rect x="20" y="80" width="180" height="550" rx="10" fill="#e8f5e9" stroke="#4CAF50" stroke-width="2" />
    <text x="110" y="110" font-size="14" font-weight="bold" text-anchor="middle" fill="#2e7d32"
        font-family="Arial">Robot Framework</text>
    <text x="110" y="130" font-size="11" text-anchor="middle" fill="#2e7d32" font-family="Arial">Test Cases</text>

    <!-- snaplogic-common-robot API Layer (vertical bar) -->
    <rect x="220" y="80" width="100" height="550" rx="10" fill="#fff3e0" stroke="#ff9800" stroke-width="2" />
    <text x="270" y="110" font-size="13" font-weight="bold" text-anchor="middle" fill="#e65100"
        font-family="Arial">snaplogic</text>
    <text x="270" y="130" font-size="13" font-weight="bold" text-anchor="middle" fill="#e65100"
        font-family="Arial">common</text>
    <text x="270" y="150" font-size="13" font-weight="bold" text-anchor="middle" fill="#e65100"
        font-family="Arial">robot</text>
    <text x="270" y="175" font-size="11" text-anchor="middle" fill="#e65100" font-family="Arial">Keywords</text>
    <text x="270" y="195" font-size="11" text-anchor="middle" fill="#e65100" font-family="Arial">&amp;</text>
    <text x="270" y="215" font-size="11" text-anchor="middle" fill="#e65100" font-family="Arial">APIs</text>

    <!-- Phase 1: Initialization -->
    <rect x="350" y="80" width="520" height="50" rx="25" fill="#667eea" />
    <text x="610" y="110" font-size="18" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">1.
        Test Suite Initialization</text>

    <rect x="380" y="160" width="200" height="80" rx="10" fill="#3498db" />
    <text x="480" y="190" font-size="14" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">Load
        Environment</text>
    <text x="480" y="210" font-size="12" text-anchor="middle" fill="white" font-family="Arial">Variables (.env)</text>
    <text x="480" y="230" font-size="11" text-anchor="middle" fill="white" font-family="Arial">JSON
        auto-detection</text>

    <rect x="620" y="160" width="200" height="80" rx="10" fill="#9b59b6" />
    <text x="720" y="190" font-size="14" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">Spin
        Up Docker</text>
    <text x="720" y="210" font-size="12" text-anchor="middle" fill="white" font-family="Arial">Containers</text>
    <text x="720" y="230" font-size="11" text-anchor="middle" fill="white" font-family="Arial">Groundplex, DBs,
        etc.</text>

    <!-- Phase 2: Execution -->
    <rect x="350" y="270" width="520" height="50" rx="25" fill="#764ba2" />
    <text x="610" y="300" font-size="18" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">2.
        Test Execution</text>

    <rect x="360" y="350" width="160" height="70" rx="10" fill="#e74c3c" />
    <text x="440" y="380" font-size="14" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">Create
        Account</text>
    <text x="440" y="400" font-size="12" text-anchor="middle" fill="white" font-family="Arial">From Template</text>

    <rect x="540" y="350" width="160" height="70" rx="10" fill="#f39c12" />
    <text x="620" y="380" font-size="14" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">Import
        Pipeline</text>
    <text x="620" y="400" font-size="12" text-anchor="middle" fill="white" font-family="Arial">SLP Files</text>

    <rect x="720" y="350" width="160" height="70" rx="10" fill="#27ae60" />
    <text x="800" y="380" font-size="14" font-weight="bold" text-anchor="middle" fill="white"
        font-family="Arial">Execute Task</text>
    <text x="800" y="400" font-size="12" text-anchor="middle" fill="white" font-family="Arial">With Parameters</text>

    <!-- Phase 3: Validation -->
    <rect x="350" y="450" width="520" height="50" rx="25" fill="#f093fb" />
    <text x="610" y="480" font-size="18" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">3.
        Validation &amp; Reporting</text>

    <rect x="420" y="530" width="180" height="70" rx="10" fill="#16a085" />
    <text x="510" y="560" font-size="14" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">Verify
        Results</text>
    <text x="510" y="580" font-size="12" text-anchor="middle" fill="white" font-family="Arial">Assertions</text>

    <rect x="620" y="530" width="180" height="70" rx="10" fill="#8e44ad" />
    <text x="710" y="560" font-size="14" font-weight="bold" text-anchor="middle" fill="white"
        font-family="Arial">Generate Report</text>
    <text x="710" y="580" font-size="12" text-anchor="middle" fill="white" font-family="Arial">HTML/XML Output</text>

    <!-- API Calls Arrows -->
    <defs>
        <marker id="apiArrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <polygon points="0 0, 10 3, 0 6" fill="#ff9800" />
        </marker>
        <marker id="apiArrowReverse" markerWidth="10" markerHeight="10" refX="1" refY="3" orient="auto">
            <polygon points="10 0, 0 3, 10 6" fill="#ff9800" />
        </marker>
    </defs>

    <!-- API Flow Indicators -->
    <!-- From RF to API layer -->
    <line x1="200" y1="200" x2="220" y2="200" stroke="#ff9800" stroke-width="2" marker-end="url(#apiArrow)" />
    <line x1="200" y1="380" x2="220" y2="380" stroke="#ff9800" stroke-width="2" marker-end="url(#apiArrow)" />
    <line x1="200" y1="560" x2="220" y2="560" stroke="#ff9800" stroke-width="2" marker-end="url(#apiArrow)" />

    <!-- From API layer to execution -->
    <line x1="320" y1="200" x2="380" y2="200" stroke="#ff9800" stroke-width="2" marker-end="url(#apiArrow)" />
    <line x1="320" y1="380" x2="360" y2="380" stroke="#ff9800" stroke-width="2" marker-end="url(#apiArrow)" />
    <line x1="320" y1="560" x2="420" y2="560" stroke="#ff9800" stroke-width="2" marker-end="url(#apiArrow)" />

    <!-- API Labels in the middle layer -->
    <text x="270" y="260" font-size="10" text-anchor="middle" fill="#e65100" font-family="Arial">Environment</text>
    <text x="270" y="275" font-size="10" text-anchor="middle" fill="#e65100" font-family="Arial">APIs</text>

    <text x="270" y="370" font-size="10" text-anchor="middle" fill="#e65100" font-family="Arial">Account</text>
    <text x="270" y="385" font-size="10" text-anchor="middle" fill="#e65100" font-family="Arial">Pipeline</text>
    <text x="270" y="400" font-size="10" text-anchor="middle" fill="#e65100" font-family="Arial">Task APIs</text>

    <text x="270" y="550" font-size="10" text-anchor="middle" fill="#e65100" font-family="Arial">Validation</text>
    <text x="270" y="565" font-size="10" text-anchor="middle" fill="#e65100" font-family="Arial">Report</text>
    <text x="270" y="580" font-size="10" text-anchor="middle" fill="#e65100" font-family="Arial">APIs</text>

    <!-- SnapLogic Platform indicator at bottom -->
    <rect x="350" y="640" width="520" height="40" rx="10" fill="#1e3a8a" />
    <text x="610" y="665" font-size="14" font-weight="bold" text-anchor="middle" fill="white"
        font-family="Arial">SnapLogic Platform (Target System)</text>

    <!-- Connection line to platform -->
    <line x1="610" y1="600" x2="610" y2="640" stroke="#1e3a8a" stroke-width="2" stroke-dasharray="5,5"
        marker-end="url(#apiArrow)" />
</svg>