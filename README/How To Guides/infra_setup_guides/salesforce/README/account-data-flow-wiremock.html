<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Data Flow Through Mappings</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #0070d2;
            margin-bottom: 40px;
        }

        .mapping-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #0070d2;
        }

        .mapping-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .mapping-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }

        .mapping-file {
            font-size: 0.9em;
            color: #666;
            font-family: monospace;
            background: #f0f0f0;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .request-response {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .request-box,
        .response-box {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            border: 1px solid #e0e0e0;
        }

        .request-box {
            border-left: 3px solid #7dd420;
        }

        .response-box {
            border-left: 3px solid #ff6b6b;
        }

        .box-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .method {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.9em;
            font-weight: bold;
            margin-right: 10px;
        }

        .method.get {
            background: #4CAF50;
            color: white;
        }

        .method.post {
            background: #2196F3;
            color: white;
        }

        .method.patch {
            background: #FF9800;
            color: white;
        }

        .method.delete {
            background: #f44336;
            color: white;
        }

        .url {
            font-family: monospace;
            font-size: 0.9em;
            color: #555;
            margin: 10px 0;
        }

        .json-block {
            background: #f6f8fa;
            border: 1px solid #d1d5da;
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.85em;
            overflow-x: auto;
            white-space: pre;
        }

        .field-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .field-table th {
            background: #e8f4fd;
            padding: 8px;
            text-align: left;
            font-size: 0.9em;
            border-bottom: 2px solid #0070d2;
        }

        .field-table td {
            padding: 8px;
            border-bottom: 1px solid #e0e0e0;
            font-size: 0.9em;
        }

        .field-table tr:last-child td {
            border-bottom: none;
        }

        .highlight {
            background: #fffbdd;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .note {
            background: #e8f4fd;
            border-left: 4px solid #0070d2;
            padding: 10px 15px;
            margin: 15px 0;
            font-size: 0.9em;
            color: #555;
        }

        .flow-arrow {
            text-align: center;
            font-size: 2em;
            color: #0070d2;
            margin: 20px 0;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .summary-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .summary-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #0070d2;
            margin: 10px 0;
        }

        code {
            background: #f0f0f0;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 0.9em;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üîÑ Salesforce Account Data Flow Through WireMock Mappings</h1>

        <!-- OAuth Token -->
        <div class="mapping-card">
            <div class="mapping-header">
                <div class="mapping-title">1Ô∏è‚É£ OAuth Authentication</div>
                <div class="mapping-file">01-oauth-token.json</div>
            </div>
            <div class="request-response">
                <div class="request-box">
                    <div class="box-title">üì• Request</div>
                    <span class="method post">POST</span>
                    <div class="url">/services/oauth2/token</div>
                    <div class="json-block">grant_type=password
                        client_id=xxx
                        username=snap-qa@snaplogic.com
                        password=test123</div>
                </div>
                <div class="response-box">
                    <div class="box-title">üì§ Response</div>
                    <div class="json-block">{
                        "access_token": "mock-access-token-UUID",
                        "instance_url": "http://salesforce-api-mock:8080",
                        "token_type": "Bearer"
                        }</div>
                </div>
            </div>
            <div class="note">
                <strong>Account Data:</strong> None - This is just authentication, no account data involved.
            </div>
        </div>

        <!-- Query Accounts -->
        <div class="mapping-card">
            <div class="mapping-header">
                <div class="mapping-title">2Ô∏è‚É£ Query Accounts</div>
                <div class="mapping-file">02-query-accounts.json</div>
            </div>
            <div class="request-response">
                <div class="request-box">
                    <div class="box-title">üì• Request</div>
                    <span class="method get">GET</span>
                    <div class="url">/services/data/v59.0/query/?q=SELECT...</div>
                    <div class="json-block">Authorization: Bearer mock-access-token-xxx
                        Query: SELECT Id, Name FROM Account</div>
                </div>
                <div class="response-box">
                    <div class="box-title">üì§ Response (Static Data)</div>
                    <div class="json-block">{
                        "totalSize": 3,
                        "done": true,
                        "records": [
                        {
                        "Id": "001000000000001",
                        "Name": "Acme Corporation",
                        "Type": "Customer",
                        "Industry": "Technology",
                        "AnnualRevenue": 50000000
                        },
                        {
                        "Id": "001000000000002",
                        "Name": "Global Innovations Inc",
                        "Type": "Partner",
                        "Industry": "Manufacturing",
                        "AnnualRevenue": 75000000
                        },
                        {
                        "Id": "001000000000003",
                        "Name": "TechStart Solutions",
                        "Type": "Prospect",
                        "Industry": "Software",
                        "AnnualRevenue": 10000000
                        }
                        ]
                        }</div>
                </div>
            </div>
            <table class="field-table">
                <thead>
                    <tr>
                        <th>Field</th>
                        <th>Acme Corp</th>
                        <th>Global Innovations</th>
                        <th>TechStart</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Id</strong></td>
                        <td>001000000000001</td>
                        <td>001000000000002</td>
                        <td>001000000000003</td>
                    </tr>
                    <tr>
                        <td><strong>Name</strong></td>
                        <td>Acme Corporation</td>
                        <td>Global Innovations Inc</td>
                        <td>TechStart Solutions</td>
                    </tr>
                    <tr>
                        <td><strong>Type</strong></td>
                        <td>Customer</td>
                        <td>Partner</td>
                        <td>Prospect</td>
                    </tr>
                    <tr>
                        <td><strong>Industry</strong></td>
                        <td>Technology</td>
                        <td>Manufacturing</td>
                        <td>Software</td>
                    </tr>
                    <tr>
                        <td><strong>AnnualRevenue</strong></td>
                        <td>$50,000,000</td>
                        <td>$75,000,000</td>
                        <td>$10,000,000</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Create Account -->
        <div class="mapping-card">
            <div class="mapping-header">
                <div class="mapping-title">3Ô∏è‚É£ Create Account</div>
                <div class="mapping-file">03-create-account.json</div>
            </div>
            <div class="request-response">
                <div class="request-box">
                    <div class="box-title">üì• Request</div>
                    <span class="method post">POST</span>
                    <div class="url">/services/data/v59.0/sobjects/Account</div>
                    <div class="json-block">{
                        "Name": "New Company",
                        "Type": "Customer",
                        "Industry": "Technology",
                        "Phone": "(555) 999-8888",
                        "AnnualRevenue": 25000000
                        }</div>
                </div>
                <div class="response-box">
                    <div class="box-title">üì§ Response</div>
                    <div class="json-block">{
                        "id": "001<span class="highlight">123456789012345</span>",
                        "success": true,
                        "errors": []
                        }</div>
                    <div class="note" style="background: #ffe8e8; border-color: #ff6b6b;">
                        ‚ö†Ô∏è <strong>Important:</strong> Returns random ID, but does NOT actually save the account!
                    </div>
                </div>
            </div>
        </div>

        <!-- Get Account by ID -->
        <div class="mapping-card">
            <div class="mapping-header">
                <div class="mapping-title">4Ô∏è‚É£ Get Account by ID</div>
                <div class="mapping-file">04-get-account-by-id.json</div>
            </div>
            <div class="request-response">
                <div class="request-box">
                    <div class="box-title">üì• Request</div>
                    <span class="method get">GET</span>
                    <div class="url">/services/data/v59.0/sobjects/Account/<span
                            class="highlight">001000000000001</span></div>
                </div>
                <div class="response-box">
                    <div class="box-title">üì§ Response (Dynamic)</div>
                    <div class="json-block">{
                        "Id": "<span class="highlight">[ID from URL]</span>",
                        "Name": "Mock Account <span class="highlight">{{random 3-digit}}</span>",
                        "Type": "Customer",
                        "Industry": "Technology",
                        "Phone": "+1-555-<span class="highlight">{{random}}</span>",
                        "Website": "https://www.mockaccount.com",
                        "AnnualRevenue": <span class="highlight">{{random 1M-100M}}</span>,
                        "NumberOfEmployees": <span class="highlight">{{random 10-10000}}</span>,
                        "CreatedDate": "2024-01-15T10:30:00.000+0000",
                        "LastModifiedDate": "<span class="highlight">{{current timestamp}}</span>"
                        }</div>
                </div>
            </div>
            <table class="field-table">
                <thead>
                    <tr>
                        <th>Field</th>
                        <th>Type</th>
                        <th>Value Generation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Id</strong></td>
                        <td>String</td>
                        <td>Extracted from request URL</td>
                    </tr>
                    <tr>
                        <td><strong>Name</strong></td>
                        <td>String</td>
                        <td>Mock Account + random 3 digits</td>
                    </tr>
                    <tr>
                        <td><strong>Phone</strong></td>
                        <td>String</td>
                        <td>Random phone number</td>
                    </tr>
                    <tr>
                        <td><strong>AnnualRevenue</strong></td>
                        <td>Number</td>
                        <td>Random between 1M - 100M</td>
                    </tr>
                    <tr>
                        <td><strong>NumberOfEmployees</strong></td>
                        <td>Number</td>
                        <td>Random between 10 - 10,000</td>
                    </tr>
                    <tr>
                        <td><strong>LastModifiedDate</strong></td>
                        <td>DateTime</td>
                        <td>Current timestamp</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Update Account -->
        <div class="mapping-card">
            <div class="mapping-header">
                <div class="mapping-title">5Ô∏è‚É£ Update Account</div>
                <div class="mapping-file">05-update-account.json</div>
            </div>
            <div class="request-response">
                <div class="request-box">
                    <div class="box-title">üì• Request</div>
                    <span class="method patch">PATCH</span>
                    <div class="url">/services/data/v59.0/sobjects/Account/001000000000001</div>
                    <div class="json-block">{
                        "Name": "Updated Company Name",
                        "AnnualRevenue": 60000000,
                        "Type": "Partner"
                        }</div>
                </div>
                <div class="response-box">
                    <div class="box-title">üì§ Response</div>
                    <div class="json-block">HTTP 204 No Content

                        (Empty response body)</div>
                    <div class="note" style="background: #ffe8e8; border-color: #ff6b6b;">
                        ‚ö†Ô∏è Returns success but doesn't actually update anything
                    </div>
                </div>
            </div>
        </div>

        <!-- Delete Account -->
        <div class="mapping-card">
            <div class="mapping-header">
                <div class="mapping-title">6Ô∏è‚É£ Delete Account</div>
                <div class="mapping-file">06-delete-account.json</div>
            </div>
            <div class="request-response">
                <div class="request-box">
                    <div class="box-title">üì• Request</div>
                    <span class="method delete">DELETE</span>
                    <div class="url">/services/data/v59.0/sobjects/Account/001000000000001</div>
                </div>
                <div class="response-box">
                    <div class="box-title">üì§ Response</div>
                    <div class="json-block">HTTP 204 No Content

                        (Empty response body)</div>
                    <div class="note" style="background: #ffe8e8; border-color: #ff6b6b;">
                        ‚ö†Ô∏è Returns success but doesn't actually delete anything
                    </div>
                </div>
            </div>
        </div>

        <!-- Describe Account -->
        <div class="mapping-card">
            <div class="mapping-header">
                <div class="mapping-title">7Ô∏è‚É£ Describe Account Object</div>
                <div class="mapping-file">07-describe-account.json</div>
            </div>
            <div class="request-response">
                <div class="request-box">
                    <div class="box-title">üì• Request</div>
                    <span class="method get">GET</span>
                    <div class="url">/services/data/v59.0/sobjects/Account/describe</div>
                </div>
                <div class="response-box">
                    <div class="box-title">üì§ Response (Metadata)</div>
                    <div class="json-block">{
                        "name": "Account",
                        "label": "Account",
                        "createable": true,
                        "updateable": true,
                        "deletable": true,
                        "queryable": true,
                        "fields": [
                        {
                        "name": "Id",
                        "type": "id",
                        "label": "Account ID",
                        "length": 18
                        },
                        {
                        "name": "Name",
                        "type": "string",
                        "label": "Account Name",
                        "length": 255
                        },
                        {
                        "name": "Type",
                        "type": "picklist",
                        "picklistValues": [
                        {"value": "Customer"},
                        {"value": "Partner"},
                        {"value": "Prospect"}
                        ]
                        },
                        {
                        "name": "Industry",
                        "type": "picklist"
                        },
                        {
                        "name": "AnnualRevenue",
                        "type": "currency"
                        }
                        ]
                        }</div>
                </div>
            </div>
            <div class="note">
                <strong>Purpose:</strong> Returns metadata about Account object structure, not actual account data.
            </div>
        </div>

        <!-- API Versions -->
        <div class="mapping-card">
            <div class="mapping-header">
                <div class="mapping-title">8Ô∏è‚É£ Get API Versions</div>
                <div class="mapping-file">08-get-api-versions.json</div>
            </div>
            <div class="request-response">
                <div class="request-box">
                    <div class="box-title">üì• Request</div>
                    <span class="method get">GET</span>
                    <div class="url">/services/data</div>
                </div>
                <div class="response-box">
                    <div class="box-title">üì§ Response</div>
                    <div class="json-block">[
                        {
                        "label": "Spring '24",
                        "url": "/services/data/v59.0",
                        "version": "59.0"
                        },
                        {
                        "label": "Summer '23",
                        "url": "/services/data/v58.0",
                        "version": "58.0"
                        }
                        ]</div>
                </div>
            </div>
            <div class="note">
                <strong>Account Data:</strong> None - This returns available API versions only.
            </div>
        </div>

        <!-- Summary -->
        <h2 style="text-align: center; margin-top: 50px;">üìä Account Data Summary</h2>
        <div class="summary-grid">
            <div class="summary-card">
                <h3>Static Test Accounts</h3>
                <div class="summary-number">3</div>
                <p>Pre-defined accounts always returned by Query endpoint</p>
            </div>
            <div class="summary-card">
                <h3>Fields Available</h3>
                <div class="summary-number">10</div>
                <p>Id, Name, Type, Industry, Phone, Website, AnnualRevenue, NumberOfEmployees, CreatedDate,
                    LastModifiedDate</p>
            </div>
            <div class="summary-card">
                <h3>Stateful Operations</h3>
                <div class="summary-number">0</div>
                <p>All operations are stateless - no data persists between calls</p>
            </div>
        </div>

        <div class="note" style="margin-top: 40px; background: #f0fff4; border-color: #7dd420;">
            <h3 style="margin-top: 0;">üí° Key Insights:</h3>
            <ul style="margin: 10px 0;">
                <li><strong>Query (GET)</strong> always returns the same 3 static accounts</li>
                <li><strong>Create (POST)</strong> returns success but doesn't save anything</li>
                <li><strong>Get by ID</strong> returns dynamic/random data for any ID</li>
                <li><strong>Update/Delete</strong> return success but don't change anything</li>
                <li><strong>No persistence</strong> - each request is independent</li>
            </ul>
        </div>
    </div>
</body>

</html>