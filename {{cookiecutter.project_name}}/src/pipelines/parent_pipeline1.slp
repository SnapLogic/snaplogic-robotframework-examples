{"class_fqid":"com-snaplogic-pipeline_9","snode_id":"69124c74064caa7dcf36aa2c","instance_id":"f2ff0a41-5fd9-4e84-a2a7-14c0626cbd70","instance_version":3,"link_map":{"link184":{"dst_id":"6f1c0d58-656b-4ded-8f05-7e2e0e3c69a8","dst_view_id":"input0","src_id":"8e289094-075c-4855-894c-efdcf10dd8b1","src_view_id":"output0","isGoto":false},"link185":{"dst_id":"8e289094-075c-4855-894c-efdcf10dd8b1","dst_view_id":"input0","src_id":"58cbd15c-9580-47ab-b7c9-d3ec9df03648","src_view_id":"output0","isGoto":false},"link186":{"dst_id":"9a473102-d603-469a-85b9-b9162b2be307","dst_view_id":"input0","src_id":"573c19cc-390e-4a9f-a198-6098e15ebf17","src_view_id":"output0","isGoto":false},"link187":{"dst_id":"59df3fad-b0b9-4a1b-9681-68799799be88","dst_view_id":"input0","src_id":"6f1c0d58-656b-4ded-8f05-7e2e0e3c69a8","src_view_id":"output0","isGoto":false},"link188":{"dst_id":"992c286d-1c51-40e1-86ca-d4442c7e0866","dst_view_id":"input0","src_id":"85dd5ddb-d4b4-4208-9b13-b7cda766808b","src_view_id":"output0","isGoto":false},"link189":{"dst_id":"85dd5ddb-d4b4-4208-9b13-b7cda766808b","dst_view_id":"input1","src_id":"834990f2-8e2c-411b-888b-40c82aba893a","src_view_id":"output103","isGoto":false},"link190":{"dst_id":"85dd5ddb-d4b4-4208-9b13-b7cda766808b","dst_view_id":"input101","src_id":"b3487b69-4836-4dad-a905-b41462e97329","src_view_id":"output103","isGoto":false},"link191":{"dst_id":"85dd5ddb-d4b4-4208-9b13-b7cda766808b","dst_view_id":"input0","src_id":"59df3fad-b0b9-4a1b-9681-68799799be88","src_view_id":"output0","isGoto":true},"link192":{"dst_id":"573c19cc-390e-4a9f-a198-6098e15ebf17","dst_view_id":"input0","src_id":"992c286d-1c51-40e1-86ca-d4442c7e0866","src_view_id":"output0","isGoto":false},"link193":{"dst_id":"8e954b84-b0d6-4950-b29b-d4120db45a4e","dst_view_id":"input101","src_id":"6f1c0d58-656b-4ded-8f05-7e2e0e3c69a8","src_view_id":"output1","isGoto":false},"link194":{"dst_id":"e76081a2-6e4a-4bdf-892e-f571243793a7","dst_view_id":"input101","src_id":"6f1c0d58-656b-4ded-8f05-7e2e0e3c69a8","src_view_id":"output102","isGoto":false},"link195":{"dst_id":"9c10751e-604d-4854-bc8d-78412e81ebfc","dst_view_id":"input0","src_id":"f26e044d-aae2-43a9-8b4c-44d877483307","src_view_id":"output0","isGoto":false},"link196":{"dst_id":"26c21218-8eb7-4a13-af21-e7b3e52afc56","dst_view_id":"input0","src_id":"182b86f5-bfb2-442f-8edd-56b2ac470eb9","src_view_id":"output0","isGoto":false},"link197":{"dst_id":"182b86f5-bfb2-442f-8edd-56b2ac470eb9","dst_view_id":"input0","src_id":"8e954b84-b0d6-4950-b29b-d4120db45a4e","src_view_id":"output0","isGoto":false},"link198":{"dst_id":"f26e044d-aae2-43a9-8b4c-44d877483307","dst_view_id":"input0","src_id":"e76081a2-6e4a-4bdf-892e-f571243793a7","src_view_id":"output0","isGoto":false},"link199":{"dst_id":"834990f2-8e2c-411b-888b-40c82aba893a","dst_view_id":"input0","src_id":"26c21218-8eb7-4a13-af21-e7b3e52afc56","src_view_id":"output0","isGoto":false},"link200":{"dst_id":"b3487b69-4836-4dad-a905-b41462e97329","dst_view_id":"input0","src_id":"9c10751e-604d-4854-bc8d-78412e81ebfc","src_view_id":"output0","isGoto":false}},"link_serial":201,"property_map":{"info":{"label":{"value":"kafka_snowflake_parent_pl_20251110203439149700"},"author":{"value":"spothana@snaplogic.com"},"pipeline_doc_uri":{"value":null},"notes":{"value":null},"purpose":{"value":null}},"error":{"error_behavior":{"value":"none"}},"settings":{"error_pipeline":{"value":null,"expression":false},"error_param_table":{"value":[]},"param_table":{"value":[{"capture":{"value":false},"key":{"value":"cross_account_role_arn"},"value":{"value":"arn:aws:iam::801811267036:role/tapp102550Managed/global-npdataint-s3-tapp102550-role"},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}},{"capture":{"value":false},"key":{"value":"cross_account_external_id"},"value":{"value":"nptapp102550"},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}},{"capture":{"value":false},"key":{"value":"ca_cert_path"},"value":{"value":"801811267036-global-npdataint-ps-001-s3-bucket/tapp102550/cyberark_mfa_cert_and_key/APP_CC_GPS-Datalake_NP.crt"},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}},{"capture":{"value":false},"key":{"value":"ca_cert_key_path"},"value":{"value":"801811267036-global-npdataint-ps-001-s3-bucket/tapp102550/cyberark_mfa_cert_and_key/APP_CC_GPS-Datalake_NP.key"},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}},{"capture":{"value":false},"key":{"value":"child_pipeline1"},"value":{"value":"child_pl1"},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}},{"capture":{"value":false},"key":{"value":"child_pipeline2"},"value":{"value":null},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}}]},"imports":{"value":[{"path":{"value":"cyberarks_params.expr","expression":false},"as":{"value":"account_params"}},{"path":{"value":"functions.expr","expression":false},"as":{"value":"functions"}}]},"cache_pipelines":{"value":[]}},"input":{},"output":{"91c97bad-80ca-4e60-b478-3331333d69ed_output0":{"view_type":{"value":"document"},"label":{"value":"JSON Generator - output0"}}}},"render_map":{"scale_ratio":1,"pan_x_num":0,"pan_y_num":0,"default_snaplex":"65efe19d3503cf2d11edf1fa","detail_map":{"8e289094-075c-4855-894c-efdcf10dd8b1":{"grid_x_int":2,"grid_y_int":3,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"573c19cc-390e-4a9f-a198-6098e15ebf17":{"grid_x_int":10,"grid_y_int":3,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"view":"output","input":{},"output":{},"error":{}},"6f1c0d58-656b-4ded-8f05-7e2e0e3c69a8":{"grid_x_int":3,"grid_y_int":3,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"output":{"output1":{"rot_int":0,"dx_int":0,"dy_int":1},"output102":{"rot_int":0,"dx_int":0,"dy_int":2}},"input":{},"error":{}},"834990f2-8e2c-411b-888b-40c82aba893a":{"grid_x_int":7,"grid_y_int":4,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"8e954b84-b0d6-4950-b29b-d4120db45a4e":{"grid_x_int":4,"grid_y_int":4,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"e76081a2-6e4a-4bdf-892e-f571243793a7":{"grid_x_int":4,"grid_y_int":5,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"b3487b69-4836-4dad-a905-b41462e97329":{"grid_x_int":7,"grid_y_int":5,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"view":"output","input":{},"output":{},"error":{}},"9a473102-d603-469a-85b9-b9162b2be307":{"grid_x_int":11,"grid_y_int":3,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"output":{},"input":{},"error":{}},"58cbd15c-9580-47ab-b7c9-d3ec9df03648":{"grid_x_int":1,"grid_y_int":3,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":270,"input":{},"output":{},"error":{}},"59df3fad-b0b9-4a1b-9681-68799799be88":{"grid_x_int":4,"grid_y_int":3,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"85dd5ddb-d4b4-4208-9b13-b7cda766808b":{"grid_x_int":8,"grid_y_int":3,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"input":{"input1":{"rot_int":0,"dx_int":0,"dy_int":1},"input101":{"rot_int":0,"dx_int":0,"dy_int":2}},"output":{},"error":{}},"992c286d-1c51-40e1-86ca-d4442c7e0866":{"grid_x_int":9,"grid_y_int":3,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"f26e044d-aae2-43a9-8b4c-44d877483307":{"grid_x_int":5,"grid_y_int":5,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"182b86f5-bfb2-442f-8edd-56b2ac470eb9":{"grid_x_int":5,"grid_y_int":4,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"9c10751e-604d-4854-bc8d-78412e81ebfc":{"grid_x_int":6,"grid_y_int":5,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"26c21218-8eb7-4a13-af21-e7b3e52afc56":{"grid_x_int":6,"grid_y_int":4,"rot_int":0,"recommendation_id":null,"source":"snap catagory","index":null,"rot_tail_int":0,"input":{},"output":{},"error":{}},"91c97bad-80ca-4e60-b478-3331333d69ed":{"grid_x_int":9,"grid_y_int":4,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"output":{},"input":{},"error":{}}}},"snap_map":{"8e289094-075c-4855-894c-efdcf10dd8b1":{"class_fqid":"com-snaplogic-snaps-transform-jsonsplitter_1-436patches25564","class_id":"com-snaplogic-snaps-transform-jsonsplitter","class_version":1,"instance_fqid":"8e289094-075c-4855-894c-efdcf10dd8b1_1","instance_id":"8e289094-075c-4855-894c-efdcf10dd8b1","instance_version":1,"property_map":{"info":{"label":{"value":"Split Json"},"notes":{"value":"Spliting the JSON  on cyberark Key "}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"includeParents":{"value":false},"path":{"value":"$cyberark_params"},"nullSafeAccess":{"value":false},"includePaths":{"value":[]},"excludeList":{"value":false},"showNullValues":{"value":false}},"view_serial":100},"class_build_tag":"436patches25564"},"573c19cc-390e-4a9f-a198-6098e15ebf17":{"class_fqid":"com-snaplogic-snaps-script-script_2-main25112","class_id":"com-snaplogic-snaps-script-script","class_version":2,"instance_fqid":"573c19cc-390e-4a9f-a198-6098e15ebf17_1","instance_id":"573c19cc-390e-4a9f-a198-6098e15ebf17","instance_version":1,"property_map":{"info":{"label":{"value":"Fetch Cyberark Credentials"},"notes":{"value":"Python Code to Fetch the Cyberark Credentials"}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"Cyberark Parameters for API Call"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"Cyberark Passwords"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"executable_during_suggest":{"value":false},"language":{"value":"Python"},"script":{"value":null,"expression":false},"editable_content":{"value":"# Import the interface required by the Script snap.\nfrom com.snaplogic.scripting.language import ScriptHook\nimport os\nimport json\nimport subprocess\nimport time\nimport sys\nimport shutil\nclass TransformScript(ScriptHook):\n    def __init__(self, input, output, error, log):\n        self.input = input\n        self.output = output\n        self.error = error\n        self.log = log\n \n    # The \"execute()\" method is called once when the pipeline is started\n    # and allowed to process its inputs or just send data to its outputs.\n    def execute(self):\n        try:\n            self.log.info(\"Executing Transform script\")\n            ca_data={}\n            while self.input.hasNext():\n                    # Read the next input document, store it in a new dictionary, and write this as an output document.\n                    inDoc = self.input.next()\n                    outDoc = {\n                        'original' : inDoc\n                    }\n                    os.environ['https_proxy']='proxy.vpclocal:8000'\n                    os.environ['no_proxy']='vault.bip.uk.fid-intl.com'\n                    cert_key_loc='/opt/snaplogic/tmp/'+inDoc[\"ca_cert_key_path\"].split(\"/\")[1].lower()+inDoc['ruuid']+'-2'+'/'+inDoc[\"ca_cert_key_path\"].split(\"/\")[2].lower()+'/'+inDoc[\"ca_cert_key_path\"].split(\"/\")[3]\n                    cert_loc='/opt/snaplogic/tmp/'+inDoc[\"ca_cert_path\"].split(\"/\")[1].lower()+inDoc['ruuid']+'-1'+'/'+inDoc[\"ca_cert_path\"].split(\"/\")[2].lower()+'/'+inDoc[\"ca_cert_path\"].split(\"/\")[3]\n                    self.log.info(\"Executing the Curl to Fetch Cyberark Credentials\")\n                    command='curl \"--http1.1\" --cert '+cert_loc +' --key '+cert_key_loc +' -s \"https://vault.bip.uk.fid-intl.com/AIMWebService/api/Accounts?AppID='+inDoc[\"ca_appid\"]+'&Folder=Root&Object='+inDoc[\"ca_object\"]+'\"'+' -X GET -v'\n                    result = subprocess.Popen(command, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n                    stdout, stderr = result.communicate()\n                    for i in range(0,5):\n                        if os.system(command)==0:\n                            if 'Content' not in json.loads(stdout):\n                                password=json.loads(stdout)\n                                break;\n                            else:\n                                password=json.loads(stdout)['Content']\n                                break;\n                        else:\n                            password=stderr\n                            time.sleep(5)\n                            result = subprocess.Popen(command, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n                            stdout, stderr = result.communicate()\n                    # if password=='':\n                    #    raise Exception(stderr)\n                    if os.system(command)==0:\n                        if 'Content' in json.loads(stdout):\n                            ca_data[inDoc[\"username\"]]=password\n                            self.log.info(\"Cyberark Credentials Fetched Successfully for username : \"+inDoc[\"username\"])\n                        else:\n                            ca_data[\"error\"]=password['ErrorMsg']\n                            self.log.info(\"Error Occured while Fetching Cyberark Credentials for username : \"+inDoc[\"username\"]+\"- \"+password['ErrorMsg'])\n                    else:\n                        ca_data[\"error\"]=password\n                        # sys.exit(1)\n                    # ca_data[\"error\"]=command\n            self.output.write(ca_data)\n        except Exception as e:\n                    errDoc = {\n                        'error' : str(e)\n                    }\n                    self.log.error(\"Error in python script\")\n                    self.error.write(errDoc)\n        finally:\n            self.log.info(\"Deleting Temporary Directory\")\n            shutil.rmtree('/opt/snaplogic/tmp/'+inDoc[\"ca_cert_key_path\"].split(\"/\")[1].lower()+inDoc['ruuid']+'-1')\n            shutil.rmtree('/opt/snaplogic/tmp/'+inDoc[\"ca_cert_key_path\"].split(\"/\")[1].lower()+inDoc['ruuid']+'-2')\n        self.log.info(\"Script executed\")\n       \n \n    # The \"cleanup()\" method is called after the snap has exited the execute() method\n    def cleanup(self):\n        self.log.info(\"Cleaning up\")\n \n# The Script Snap will look for a ScriptHook object in the \"hook\"\n# variable.  The snap will then call the hook's \"execute\" method.\nhook = TransformScript(input, output, error, log)"}},"view_serial":100},"class_build_tag":"main25112"},"6f1c0d58-656b-4ded-8f05-7e2e0e3c69a8":{"class_fqid":"com-snaplogic-snaps-flow-copy_1-436patches25576","class_id":"com-snaplogic-snaps-flow-copy","class_version":1,"instance_fqid":"6f1c0d58-656b-4ded-8f05-7e2e0e3c69a8_1","instance_id":"6f1c0d58-656b-4ded-8f05-7e2e0e3c69a8","instance_version":1,"property_map":{"info":{"label":{"value":"Copy Parameters"},"notes":{"value":"Copy Parameters to Download the Cyberark MFA Certificate and Key from S3 Bucket and Calling Cyberark API"}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"CyberarK Parameters for API Call"}},"output1":{"view_type":{"value":"document"},"label":{"value":"Parameters for Downloading Certs from S3"}},"output102":{"label":{"value":"Parameters for Downloading Certs from S3"},"view_type":{"value":"document"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"}},"view_serial":102},"class_build_tag":"436patches25576"},"834990f2-8e2c-411b-888b-40c82aba893a":{"class_fqid":"com-snaplogic-snaps-binary-write_3-436patches25711","class_id":"com-snaplogic-snaps-binary-write","class_version":3,"instance_fqid":"834990f2-8e2c-411b-888b-40c82aba893a_1","instance_id":"834990f2-8e2c-411b-888b-40c82aba893a","instance_version":1,"property_map":{"info":{"label":{"value":"Write Cyberark Certificate to Snaplex"},"notes":{"value":"Writing  Cyberark MFA Certificate in Temporary Directory"}},"input":{"input0":{"view_type":{"value":"binary"},"label":{"value":"input0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"flushIntervalKb":{"value":-1},"UserPermissionsKey":{"value":[]},"retries":{"value":0,"expression":false},"cannedAcls":{"value":"None"},"filename":{"value":"'file:///opt/snaplogic/tmp/'+ $['content-location'].toLowerCase().split('/')[4]+pipe.ruuid+'-1' + '/' +$['content-location'].toLowerCase().split('/')[5]+ '/' +$['content-location'].split('/')[6]","expression":true},"execution_mode":{"value":"Validate & Execute"},"preventURLEncoding":{"value":false},"writeEmptyFile":{"value":false},"writeHeader":{"value":false},"retryInterval":{"value":1,"expression":false},"createDir":{"value":true},"fileAction":{"value":"OVERWRITE"},"advancedProperties":{"value":[]},"validate":{"value":false},"executable_during_suggest":{"value":false}},"account":{},"view_serial":103,"output":{"output103":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"436patches25711"},"8e954b84-b0d6-4950-b29b-d4120db45a4e":{"class_fqid":"com-snaplogic-snaps-s3-s3download_1-436patches25360","class_id":"com-snaplogic-snaps-s3-s3download","class_version":1,"instance_fqid":"8e954b84-b0d6-4950-b29b-d4120db45a4e_1","instance_id":"8e954b84-b0d6-4950-b29b-d4120db45a4e","instance_version":1,"property_map":{"info":{"label":{"value":"Download Cyberark Certificate from S3"},"notes":{"value":"Download  Cyberark MFA Certificate"}},"output":{"output0":{"view_type":{"value":"binary"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"objectKey":{"value":"_ca_cert_path.split('/')[1]+'/'+_ca_cert_path.split('/')[2]+'/'+_ca_cert_path.split('/')[3]","expression":true},"maxRetries":{"value":3,"expression":false},"threadPoolSize":{"value":10,"expression":false},"suggestInterval":{"value":[]},"bucket":{"value":"_ca_cert_path.split('/')[0]","expression":true},"execution_mode":{"value":"Validate & Execute"},"getObjectTags":{"value":false},"showAdvancedProperties":{"value":false},"versionId":{"value":null,"expression":false},"enableStaging":{"value":false}},"account":{"account_ref":{"value":"\"s3-cyberark-cert-fetch\"","expression":true}},"view_serial":101,"input":{"input101":{"label":{"value":"input0"},"view_type":{"value":"document"}}}},"class_build_tag":"436patches25360"},"e76081a2-6e4a-4bdf-892e-f571243793a7":{"class_fqid":"com-snaplogic-snaps-s3-s3download_1-436patches25360","class_id":"com-snaplogic-snaps-s3-s3download","class_version":1,"instance_fqid":"e76081a2-6e4a-4bdf-892e-f571243793a7_1","instance_id":"e76081a2-6e4a-4bdf-892e-f571243793a7","instance_version":1,"property_map":{"info":{"label":{"value":"Download Cyberark Certificate  Key from S3"},"notes":{"value":"Download  Cyberark MFA Certificate Key"}},"output":{"output0":{"view_type":{"value":"binary"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"objectKey":{"value":"_ca_cert_key_path.split('/')[1]+'/'+_ca_cert_key_path.split('/')[2]+'/'+_ca_cert_key_path.split('/')[3]","expression":true},"maxRetries":{"value":3,"expression":false},"threadPoolSize":{"value":10,"expression":false},"suggestInterval":{"value":[]},"bucket":{"value":"_ca_cert_key_path.split('/')[0]","expression":true},"execution_mode":{"value":"Validate & Execute"},"getObjectTags":{"value":false},"showAdvancedProperties":{"value":false},"versionId":{"value":null,"expression":false},"enableStaging":{"value":false}},"account":{"account_ref":{"value":"\"s3-cyberark-cert-fetch\"","expression":true}},"view_serial":101,"input":{"input101":{"label":{"value":"input0"},"view_type":{"value":"document"}}}},"class_build_tag":"436patches25360"},"b3487b69-4836-4dad-a905-b41462e97329":{"class_fqid":"com-snaplogic-snaps-binary-write_3-436patches25711","class_id":"com-snaplogic-snaps-binary-write","class_version":3,"instance_fqid":"b3487b69-4836-4dad-a905-b41462e97329_1","instance_id":"b3487b69-4836-4dad-a905-b41462e97329","instance_version":1,"property_map":{"info":{"label":{"value":"Write Cyberark Certificate Key to Snaplex"},"notes":{"value":"Writing  Cyberark MFA Certificate Key in Temporary Directory"}},"input":{"input0":{"view_type":{"value":"binary"},"label":{"value":"input0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"flushIntervalKb":{"value":-1},"UserPermissionsKey":{"value":[]},"retries":{"value":0,"expression":false},"cannedAcls":{"value":"None"},"filename":{"value":"'file:///opt/snaplogic/tmp/'+ $['content-location'].toLowerCase().split('/')[4]+pipe.ruuid+'-2' + '/' +$['content-location'].toLowerCase().split('/')[5]+ '/' +$['content-location'].split('/')[6]","expression":true},"execution_mode":{"value":"Validate & Execute"},"preventURLEncoding":{"value":false},"writeEmptyFile":{"value":false},"writeHeader":{"value":false},"retryInterval":{"value":1,"expression":false},"createDir":{"value":true},"fileAction":{"value":"OVERWRITE"},"advancedProperties":{"value":[]},"validate":{"value":false},"executable_during_suggest":{"value":false}},"account":{},"view_serial":103,"output":{"output103":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"436patches25711"},"9a473102-d603-469a-85b9-b9162b2be307":{"class_fqid":"com-snaplogic-snaps-flow-pipeexec_1-436patches25576","class_id":"com-snaplogic-snaps-flow-pipeexec","class_version":1,"instance_fqid":"9a473102-d603-469a-85b9-b9162b2be307_1","instance_id":"9a473102-d603-469a-85b9-b9162b2be307","instance_version":1,"property_map":{"info":{"label":{"value":"Pipeline Execute"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"timeout":{"value":null,"expression":false},"pipeline":{"expression":true,"value":"_child_pipeline1"},"execLabel":{"expression":true,"value":null},"params":{"value":[{"paramValue":{"expression":true,"value":"$DDP_SNF_RSA_Private_Key"},"paramName":{"value":"snf_rsa_private_key"}},{"paramName":{"value":"snf_rsa_passphrase"},"paramValue":{"value":"$DDP_SNF_RSA_Passphrase","expression":true}},{"paramName":{"value":"msk_cross_account_iam"},"paramValue":{"value":"$DDP_MSK_Cross_Account_IAM","expression":true}},{"paramName":{"value":"msk_cross_account_external_key"},"paramValue":{"value":"$DDP_CIS_Cross_Account_External_Key","expression":true}},{"paramName":{"value":"DDP_Email_Secret_ID"},"paramValue":{"value":"$DDP_Email_Secret_ID","expression":true}},{"paramName":{"value":"DDP_Email_Secret_Key"},"paramValue":{"value":"$DDP_Email_Secret_Key","expression":true}}]},"execution_mode":{"value":"Validate & Execute"},"snaplexGovernor":{"value":"LOCAL_NODE"},"retryInterval":{"value":null,"expression":false},"retryLimit":{"value":null,"expression":false},"reuse":{"value":false},"snaplex":{"expression":false},"executable_during_suggest":{"value":true},"batchSize":{"value":1,"expression":false},"poolSize":{"value":1,"expression":false},"loopDocument":{"expression":true}},"view_serial":100},"class_build_tag":"436patches25576"},"58cbd15c-9580-47ab-b7c9-d3ec9df03648":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-436patches25564","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"58cbd15c-9580-47ab-b7c9-d3ec9df03648_1","instance_id":"58cbd15c-9580-47ab-b7c9-d3ec9df03648","instance_version":1,"property_map":{"info":{"label":{"value":"Read Cyberark API Parameters"},"notes":{"value":"Read the Cyberark Parameters from Expression Library File"}},"input":{},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"passThrough":{"value":false},"transformations":{"value":{"mappingRoot":{"value":"$"},"mappingTable":{"value":[{"expression":{"expression":true,"value":"lib.account_params['cyberark'][lib.functions.getOrgEnv()]"},"targetPath":{"value":"cyberark_params"}}]}}},"nullSafeAccess":{"value":false}},"view_serial":100},"class_build_tag":"436patches25564"},"59df3fad-b0b9-4a1b-9681-68799799be88":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-436patches25564","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"59df3fad-b0b9-4a1b-9681-68799799be88_1","instance_id":"59df3fad-b0b9-4a1b-9681-68799799be88","instance_version":1,"property_map":{"info":{"label":{"value":"Map RunTime ID and Cyberark Parameters"},"notes":{"value":"Adding Pipeline Runtime ID to access the Directory where Cyberark Certificate and key is stored"}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"passThrough":{"value":false},"transformations":{"value":{"mappingRoot":{"value":"$"},"mappingTable":{"value":[{"expression":{"expression":true,"value":"pipe.ruuid"},"targetPath":{"value":"ruuid"}},{"expression":{"value":"$ca_appid","expression":true},"targetPath":{"value":"ca_appid"}},{"expression":{"value":"_ca_cert_path","expression":true},"targetPath":{"value":"ca_cert_path"}},{"expression":{"value":"_ca_cert_key_path","expression":true},"targetPath":{"value":"ca_cert_key_path"}},{"expression":{"value":"$ca_object","expression":true},"targetPath":{"value":"ca_object"}},{"expression":{"value":"$username","expression":true},"targetPath":{"value":"username"}}]}}},"nullSafeAccess":{"value":false}},"view_serial":100},"class_build_tag":"436patches25564"},"85dd5ddb-d4b4-4208-9b13-b7cda766808b":{"class_fqid":"com-snaplogic-snaps-flow-union_2-436patches25576","class_id":"com-snaplogic-snaps-flow-union","class_version":2,"instance_fqid":"85dd5ddb-d4b4-4208-9b13-b7cda766808b_1","instance_id":"85dd5ddb-d4b4-4208-9b13-b7cda766808b","instance_version":1,"property_map":{"info":{"label":{"value":"Union"},"notes":{"value":"Union of Cyberark Parameters and file paths for Cyberark MFA Certificate and Key"}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"Cyberark API Parameters"}},"input1":{"view_type":{"value":"document"},"label":{"value":"Cyberark Certificate Location"}},"input101":{"label":{"value":"Cyberark Certificate Key Location"},"view_type":{"value":"document"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"Cyberark API Parameters"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"}},"view_serial":101},"class_build_tag":"436patches25576"},"992c286d-1c51-40e1-86ca-d4442c7e0866":{"class_fqid":"com-snaplogic-snaps-flow-filter_2-436patches25576","class_id":"com-snaplogic-snaps-flow-filter","class_version":2,"instance_fqid":"992c286d-1c51-40e1-86ca-d4442c7e0866_1","instance_id":"992c286d-1c51-40e1-86ca-d4442c7e0866","instance_version":1,"property_map":{"info":{"label":{"value":"Filter Cyberark Parameters"},"notes":{"value":"Filter Cyberark Related Parameters"}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"Cyberark API Parameters with Certificate and Key Location"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"Cyberark API Parameters"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"filterExpression":{"expression":true,"value":"$.hasPath('ca_appid')"},"nullSafeAccess":{"value":false},"language":{"value":"Javascript"},"script":{"value":null,"expression":false}},"view_serial":100},"class_build_tag":"436patches25576"},"f26e044d-aae2-43a9-8b4c-44d877483307":{"class_fqid":"com-snaplogic-snaps-transform-binarytodocument_1-436patches25564","class_id":"com-snaplogic-snaps-transform-binarytodocument","class_version":1,"instance_fqid":"f26e044d-aae2-43a9-8b4c-44d877483307_1","instance_id":"f26e044d-aae2-43a9-8b4c-44d877483307","instance_version":1,"property_map":{"info":{"label":{"value":"Binary to Document"},"notes":{}},"input":{"input0":{"view_type":{"value":"binary"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"codec":{"value":"DECODE_BASE64"},"ignoreEmptyStream":{"value":false}},"view_serial":100},"class_build_tag":"436patches25564"},"182b86f5-bfb2-442f-8edd-56b2ac470eb9":{"class_fqid":"com-snaplogic-snaps-transform-binarytodocument_1-436patches25564","class_id":"com-snaplogic-snaps-transform-binarytodocument","class_version":1,"instance_fqid":"182b86f5-bfb2-442f-8edd-56b2ac470eb9_1","instance_id":"182b86f5-bfb2-442f-8edd-56b2ac470eb9","instance_version":1,"property_map":{"info":{"label":{"value":"Binary to Document"},"notes":{}},"input":{"input0":{"view_type":{"value":"binary"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"codec":{"value":"DECODE_BASE64"},"ignoreEmptyStream":{"value":false}},"view_serial":100},"class_build_tag":"436patches25564"},"9c10751e-604d-4854-bc8d-78412e81ebfc":{"class_fqid":"com-snaplogic-snaps-transform-documenttobinary_1-436patches25564","class_id":"com-snaplogic-snaps-transform-documenttobinary","class_version":1,"instance_fqid":"9c10751e-604d-4854-bc8d-78412e81ebfc_1","instance_id":"9c10751e-604d-4854-bc8d-78412e81ebfc","instance_version":1,"property_map":{"info":{"label":{"value":"Document to Binary"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"binary"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"codec":{"value":"NONE"},"binaryHeaderProps":{"value":[]}},"view_serial":100},"class_build_tag":"436patches25564"},"26c21218-8eb7-4a13-af21-e7b3e52afc56":{"class_fqid":"com-snaplogic-snaps-transform-documenttobinary_1-436patches25564","class_id":"com-snaplogic-snaps-transform-documenttobinary","class_version":1,"instance_fqid":"26c21218-8eb7-4a13-af21-e7b3e52afc56_1","instance_id":"26c21218-8eb7-4a13-af21-e7b3e52afc56","instance_version":1,"property_map":{"info":{"label":{"value":"Document to Binary1"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"binary"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"codec":{"value":"NONE"},"binaryHeaderProps":{"value":[]}},"view_serial":100},"class_build_tag":"436patches25564"},"91c97bad-80ca-4e60-b478-3331333d69ed":{"class_fqid":"com-snaplogic-snaps-transform-jsongenerator_2-main31019","class_id":"com-snaplogic-snaps-transform-jsongenerator","class_version":2,"instance_fqid":"91c97bad-80ca-4e60-b478-3331333d69ed_1","instance_id":"91c97bad-80ca-4e60-b478-3331333d69ed","instance_version":1,"property_map":{"info":{"label":{"value":"JSON Generator"},"notes":{}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"editable_content":{"value":"{\n  \"msg\": \"Started Ok\",\n  \"http_status_code\": 200\n}"},"arrayElementsAsDocuments":{"value":false},"passThroughProp":{"value":false},"supportTypeExts":{"value":false}},"view_serial":100,"input":{}},"class_build_tag":"main31019"}},"path_id":"/ml-legacy-migration/kafka-automation-latest/sl_project","path_snode":"69124c55bd75d54d7c16fbe7"}