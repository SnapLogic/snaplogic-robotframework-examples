# ============================================
# APACHE KAFKA STREAMING ACCOUNT
# ============================================
# Kafka streaming configuration for local Docker instance
# Container: kafka
# ============================================

KAFKA_ACCOUNT_NAME=kafka_acct
KAFKA_BOOTSTRAP_SERVER=kafka:29092
KAFKA_ADVANCED_PROPERTY_KEY=
KAFKA_ADVANCED_PROPERTY_VALUE=
KAFKA_SCHEMA_REGISTRY_URL=

# Port mapping configuration
# Kafka broker port (host port that maps to container port 9092)
KAFKA_PORT=9092
# Zookeeper port for Kafka coordination (host port that maps to container port 2181)
ZOOKEEPER_PORT=2181
# JMX port for Kafka monitoring (host port that maps to container port 9101)
KAFKA_JMX_PORT=9101
# Kafka UI web console port (host port that maps to container port 8080)
KAFKA_UI_PORT=8082
# Schema Registry port (host port that maps to container port 8081)
KAFKA_SCHEMA_REGISTRY_PORT=8081



# ============================================
# KAFKA DOCKER COMPOSE ENVIRONMENT VARIABLES
# ============================================
# These variables configure the Kafka container
# Used by docker-compose.kafka.yml
# ============================================

# KRaft Configuration (No Zookeeper!)
KAFKA_CFG_NODE_ID=1
KAFKA_CFG_PROCESS_ROLES=broker,controller
KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=1@kafka:9093

# Listeners Configuration
KAFKA_CFG_LISTENERS=PLAINTEXT://:29092,CONTROLLER://:9093,PLAINTEXT_HOST://:9092
KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092
KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT
KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER
KAFKA_CFG_INTER_BROKER_LISTENER_NAME=PLAINTEXT

# Enable KRaft
KAFKA_ENABLE_KRAFT=yes
KAFKA_KRAFT_CLUSTER_ID=MkU3OEVBNTcwNTJENDM2Qk

# Topic Configuration
KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE=true
KAFKA_CFG_NUM_PARTITIONS=3
KAFKA_CFG_DEFAULT_REPLICATION_FACTOR=1
KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR=1
KAFKA_CFG_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=1
KAFKA_CFG_TRANSACTION_STATE_LOG_MIN_ISR=1

# Log retention (7 days default)
KAFKA_CFG_LOG_RETENTION_HOURS=168
KAFKA_CFG_LOG_RETENTION_BYTES=1073741824
KAFKA_CFG_LOG_SEGMENT_BYTES=1073741824

# Performance Settings
KAFKA_HEAP_OPTS=-Xmx512m -Xms256m

# Security
ALLOW_PLAINTEXT_LISTENER=yes

# ============================================
# KAFKA UI ENVIRONMENT VARIABLES
# ============================================
KAFKA_CLUSTERS_0_NAME=snaplogic-kafka-kraft
KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka:29092
DYNAMIC_CONFIG_ENABLED=true
JAVA_OPTS=-Xmx256m -Xms128m -XX:+UseContainerSupport

