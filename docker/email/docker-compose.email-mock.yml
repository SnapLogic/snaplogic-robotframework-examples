services:
  maildev:
    image: maildev/maildev:latest
    container_name: maildev-test
    restart: unless-stopped
    ports:
      - "${MAILDEV_SMTP_PORT:-1025}:1025"  # SMTP server
      - "${MAILDEV_WEB_PORT:-1080}:1080"  # Web UI for viewing emails
    environment:
      MAILDEV_SMTP_PORT: 1025
      MAILDEV_WEB_PORT: 1080
      # Uncomment below to add basic auth to web UI (recommended for shared environments)
      # MAILDEV_WEB_USER: admin
      # MAILDEV_WEB_PASS: changeme
    command: ["--hide-extensions", "STARTTLS", "--web-ip", "0.0.0.0"]
    profiles: [email-mock]
    networks:
      - snaplogicnet
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

networks:
  snaplogicnet:
    driver: bridge
