<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kafka Docker Compose Configuration</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.95;
            font-weight: 300;
        }

        .kafka-logo {
            width: 60px;
            height: 60px;
            display: inline-block;
            vertical-align: middle;
            margin-right: 15px;
            background: white;
            border-radius: 50%;
            padding: 10px;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
            display: flex;
            align-items: center;
        }

        .section-icon {
            width: 35px;
            height: 35px;
            margin-right: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .service-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }

        .service-card h3 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
        }

        .service-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.7em;
            margin-left: 10px;
            text-transform: uppercase;
            font-weight: bold;
        }

        .config-list {
            list-style: none;
            padding: 0;
        }

        .config-list li {
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: start;
        }

        .config-list li:last-child {
            border-bottom: none;
        }

        .config-list li::before {
            content: '▸';
            color: #667eea;
            font-weight: bold;
            margin-right: 10px;
            font-size: 1.2em;
        }

        .config-key {
            font-weight: 600;
            color: #2c3e50;
            margin-right: 5px;
        }

        .config-value {
            color: #555;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .feature-item {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-item:hover {
            transform: scale(1.05);
        }

        .feature-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .feature-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .feature-desc {
            font-size: 0.9em;
            color: #555;
        }

        .profile-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .profile-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: 500;
            transition: transform 0.2s ease;
            cursor: default;
        }

        .profile-tag:hover {
            transform: scale(1.1);
        }

        .code-block {
            background: #2c3e50;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 10px 0;
        }

        .port-info {
            background: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .port-info h4 {
            color: #2980b9;
            margin-bottom: 10px;
        }

        .port-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .port-item {
            background: white;
            padding: 10px;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .port-item strong {
            color: #2980b9;
        }

        .resource-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .resource-table th,
        .resource-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .resource-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }

        .resource-table tr:hover {
            background: #f5f7fa;
        }

        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
        }

        .footer a {
            color: #667eea;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <span class="kafka-logo">📊</span>
                Kafka Docker Compose Configuration
            </h1>
            <p class="subtitle">Apache Kafka with KRaft Mode - No Zookeeper Required</p>
        </div>

        <div class="content">
            <!-- Overview Section -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">🎯</span>
                    Overview
                </h2>
                <p style="font-size: 1.1em; line-height: 1.8; color: #555;">
                    This Docker Compose configuration provides a complete Apache Kafka setup using KRaft mode (Kafka without Zookeeper), 
                    optimized for development, testing, and CI/CD environments. The setup includes a Kafka broker, web UI, and various 
                    utility services for setup, testing, and maintenance.
                </p>
            </div>

            <!-- Services Section -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">🚀</span>
                    Services
                </h2>
                
                <div class="services-grid">
                    <!-- Kafka Broker -->
                    <div class="service-card">
                        <h3>
                            Kafka Broker
                            <span class="service-badge">Core</span>
                        </h3>
                        <ul class="config-list">
                            <li>
                                <span class="config-key">Image:</span>
                                <span class="config-value">bitnami/kafka:3.7</span>
                            </li>
                            <li>
                                <span class="config-key">Mode:</span>
                                <span class="config-value">KRaft (No Zookeeper)</span>
                            </li>
                            <li>
                                <span class="config-key">Roles:</span>
                                <span class="config-value">Broker & Controller</span>
                            </li>
                            <li>
                                <span class="config-key">Default Partitions:</span>
                                <span class="config-value">3</span>
                            </li>
                            <li>
                                <span class="config-key">Log Retention:</span>
                                <span class="config-value">7 days (168 hours)</span>
                            </li>
                            <li>
                                <span class="config-key">Memory:</span>
                                <span class="config-value">256-512MB JVM Heap</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Kafka UI -->
                    <div class="service-card">
                        <h3>
                            Kafka UI
                            <span class="service-badge">Management</span>
                        </h3>
                        <ul class="config-list">
                            <li>
                                <span class="config-key">Image:</span>
                                <span class="config-value">provectuslabs/kafka-ui:latest</span>
                            </li>
                            <li>
                                <span class="config-key">Purpose:</span>
                                <span class="config-value">Web interface for Kafka</span>
                            </li>
                            <li>
                                <span class="config-key">Port:</span>
                                <span class="config-value">8080 (configurable)</span>
                            </li>
                            <li>
                                <span class="config-key">Memory:</span>
                                <span class="config-value">128-256MB JVM Heap</span>
                            </li>
                            <li>
                                <span class="config-key">Features:</span>
                                <span class="config-value">Topic management, monitoring</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Setup Service -->
                    <div class="service-card">
                        <h3>
                            Kafka Setup
                            <span class="service-badge">Utility</span>
                        </h3>
                        <ul class="config-list">
                            <li>
                                <span class="config-key">Type:</span>
                                <span class="config-value">One-time initialization</span>
                            </li>
                            <li>
                                <span class="config-key">Script:</span>
                                <span class="config-value">kafka-setup.sh</span>
                            </li>
                            <li>
                                <span class="config-key">Profile:</span>
                                <span class="config-value">kafka</span>
                            </li>
                            <li>
                                <span class="config-key">Restart:</span>
                                <span class="config-value">No (runs once)</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Test Producer -->
                    <div class="service-card">
                        <h3>
                            Test Producer
                            <span class="service-badge">Testing</span>
                        </h3>
                        <ul class="config-list">
                            <li>
                                <span class="config-key">Purpose:</span>
                                <span class="config-value">Message production testing</span>
                            </li>
                            <li>
                                <span class="config-key">Script:</span>
                                <span class="config-value">kafka-test-producer.sh</span>
                            </li>
                            <li>
                                <span class="config-key">Profile:</span>
                                <span class="config-value">kafka-test</span>
                            </li>
                            <li>
                                <span class="config-key">Activation:</span>
                                <span class="config-value">On-demand</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Cleanup Service -->
                    <div class="service-card">
                        <h3>
                            Cleanup Service
                            <span class="service-badge">Maintenance</span>
                        </h3>
                        <ul class="config-list">
                            <li>
                                <span class="config-key">Purpose:</span>
                                <span class="config-value">Data cleanup operations</span>
                            </li>
                            <li>
                                <span class="config-key">Script:</span>
                                <span class="config-value">kafka-cleanup.sh</span>
                            </li>
                            <li>
                                <span class="config-key">Profile:</span>
                                <span class="config-value">kafka-cleanup</span>
                            </li>
                            <li>
                                <span class="config-key">Usage:</span>
                                <span class="config-value">Manual trigger</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Key Features Section -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">⭐</span>
                    Key Features
                </h2>
                
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-icon">🎯</div>
                        <div class="feature-title">No Zookeeper</div>
                        <div class="feature-desc">Simplified deployment with KRaft mode</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">🔧</div>
                        <div class="feature-title">Auto Topic Creation</div>
                        <div class="feature-desc">Topics created automatically on demand</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">💾</div>
                        <div class="feature-title">Persistent Storage</div>
                        <div class="feature-desc">Docker volumes for data persistence</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">🏥</div>
                        <div class="feature-title">Health Checks</div>
                        <div class="feature-desc">Built-in health monitoring</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">🚦</div>
                        <div class="feature-title">Resource Limits</div>
                        <div class="feature-desc">CI-optimized memory and CPU caps</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">📜</div>
                        <div class="feature-title">Custom Scripts</div>
                        <div class="feature-desc">Mounted scripts for operations</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">🔒</div>
                        <div class="feature-title">Network Isolation</div>
                        <div class="feature-desc">Custom bridge network</div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">🎨</div>
                        <div class="feature-title">Web UI</div>
                        <div class="feature-desc">Visual management interface</div>
                    </div>
                </div>
            </div>

            <!-- Deployment Profiles Section -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">📦</span>
                    Deployment Profiles
                </h2>
                
                <div class="profile-tags">
                    <span class="profile-tag">kafka</span>
                    <span class="profile-tag">kafka-dev</span>
                    <span class="profile-tag">kafka-test</span>
                    <span class="profile-tag">kafka-cleanup</span>
                </div>
                
                <div class="code-block">
# Start Kafka with basic setup
docker-compose --profile kafka up -d

# Start Kafka for development (includes UI)
docker-compose --profile kafka-dev up -d

# Run test producer
docker-compose --profile kafka-test up

# Clean up Kafka data
docker-compose --profile kafka-cleanup up
                </div>
            </div>

            <!-- Service Endpoints Section -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">🌐</span>
                    Service Endpoints
                </h2>
                
                <!-- Endpoint Access Tabs -->
                <div style="margin-top: 20px;">
                    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                        <button onclick="showEndpoints('external')" id="external-tab" style="padding: 10px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: opacity 0.3s;">🖥️ External Access (Host)</button>
                        <button onclick="showEndpoints('internal')" id="internal-tab" style="padding: 10px 20px; background: #e0e0e0; color: #555; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s;">🐳 Internal Access (Container)</button>
                    </div>
                    
                    <!-- External Endpoints -->
                    <div id="external-endpoints" style="display: block;">
                        <p style="color: #666; margin-bottom: 20px; font-style: italic;">Use these endpoints when accessing services from your host machine or external applications:</p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; border-radius: 12px; color: white; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                                <h3 style="margin-bottom: 10px; font-size: 1.2em;">🔧 Kafka Broker</h3>
                                <code style="background: rgba(255, 255, 255, 0.2); padding: 8px 12px; border-radius: 6px; display: inline-block; font-size: 1.1em;">localhost:9092</code>
                                <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.95;">Main endpoint for producing and consuming messages</p>
                            </div>
                            
                            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 20px; border-radius: 12px; color: white; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                                <h3 style="margin-bottom: 10px; font-size: 1.2em;">🎛️ Kafka Controller</h3>
                                <code style="background: rgba(255, 255, 255, 0.2); padding: 8px 12px; border-radius: 6px; display: inline-block; font-size: 1.1em;">localhost:9093</code>
                                <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.95;">KRaft controller endpoint for cluster management</p>
                            </div>
                            
                            <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 20px; border-radius: 12px; color: white; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                                <h3 style="margin-bottom: 10px; font-size: 1.2em;">📊 Kafka UI</h3>
                                <code style="background: rgba(255, 255, 255, 0.2); padding: 8px 12px; border-radius: 6px; display: inline-block; font-size: 1.1em;">http://localhost:8080</code>
                                <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.95;">Web interface for monitoring and management</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Internal Endpoints -->
                    <div id="internal-endpoints" style="display: none;">
                        <p style="color: #666; margin-bottom: 20px; font-style: italic;">Use these endpoints when accessing services from other containers within the same Docker network (snaplogicnet):</p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; border-radius: 12px; color: white; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                                <h3 style="margin-bottom: 10px; font-size: 1.2em;">🔧 Kafka Broker</h3>
                                <code style="background: rgba(255, 255, 255, 0.2); padding: 8px 12px; border-radius: 6px; display: inline-block; font-size: 1.1em;">kafka:29092</code>
                                <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.95;">Internal listener for container-to-container communication</p>
                            </div>
                            
                            <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 20px; border-radius: 12px; color: white; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                                <h3 style="margin-bottom: 10px; font-size: 1.2em;">🎛️ Kafka Controller</h3>
                                <code style="background: rgba(255, 255, 255, 0.2); padding: 8px 12px; border-radius: 6px; display: inline-block; font-size: 1.1em;">kafka:9093</code>
                                <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.95;">Internal controller endpoint</p>
                            </div>
                            
                            <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 20px; border-radius: 12px; color: white; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                                <h3 style="margin-bottom: 10px; font-size: 1.2em;">📊 Kafka UI</h3>
                                <code style="background: rgba(255, 255, 255, 0.2); padding: 8px 12px; border-radius: 6px; display: inline-block; font-size: 1.1em;">http://kafka-ui:8080</code>
                                <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.95;">Internal UI endpoint (Note: UI connects to kafka:29092)</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="background: #e8f4f8; border-left: 4px solid #3498db; padding: 15px; margin: 30px 0 0 0; border-radius: 4px;">
                    <h4 style="color: #2980b9; margin-bottom: 10px;">Quick Connect Examples</h4>
                    <p style="color: #555; margin-bottom: 10px;">Connection examples for different scenarios:</p>
                    <div class="code-block" style="margin-top: 10px;">
# FROM YOUR HOST MACHINE:
# Connect to Kafka broker
kafka-console-producer --bootstrap-server localhost:9092 --topic test

# Open Kafka UI in browser
open http://localhost:8080

# List topics via command line
kafka-topics --bootstrap-server localhost:9092 --list

# FROM ANOTHER CONTAINER IN THE SAME NETWORK:
# Connect to Kafka broker (using internal endpoint)
kafka-console-producer --bootstrap-server kafka:29092 --topic test

# Example from application container
KAFKA_BOOTSTRAP_SERVERS=kafka:29092</div>
                </div>
                
                <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0 0 0; border-radius: 4px;">
                    <h4 style="color: #856404; margin-bottom: 10px;">⚠️ Important Note on Container Networking</h4>
                    <p style="color: #856404;">When configuring applications in other Docker containers to connect to Kafka:</p>
                    <ul style="color: #856404; margin-top: 10px; padding-left: 20px;">
                        <li>Use <strong>kafka:29092</strong> (not localhost:9092) as the bootstrap server</li>
                        <li>Ensure containers are on the same network (<strong>snaplogicnet</strong>)</li>
                        <li>The container name <strong>kafka</strong> acts as the hostname within the Docker network</li>
                        <li>External port 9092 is only for host machine access</li>
                    </ul>
                </div>
            </div>
            
            <script>
            function showEndpoints(type) {
                // Hide all endpoint divs
                document.getElementById('external-endpoints').style.display = 'none';
                document.getElementById('internal-endpoints').style.display = 'none';
                
                // Reset all tabs
                document.getElementById('external-tab').style.background = '#e0e0e0';
                document.getElementById('external-tab').style.color = '#555';
                document.getElementById('internal-tab').style.background = '#e0e0e0';
                document.getElementById('internal-tab').style.color = '#555';
                
                // Show selected endpoints and highlight tab
                if (type === 'external') {
                    document.getElementById('external-endpoints').style.display = 'block';
                    document.getElementById('external-tab').style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                    document.getElementById('external-tab').style.color = 'white';
                } else {
                    document.getElementById('internal-endpoints').style.display = 'block';
                    document.getElementById('internal-tab').style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                    document.getElementById('internal-tab').style.color = 'white';
                }
            }
            </script>

            <!-- Port Configuration Section -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">🔌</span>
                    Port Configuration
                </h2>
                
                <div class="port-info">
                    <h4>Available Ports</h4>
                    <div class="port-list">
                        <div class="port-item">
                            <strong>9092:</strong> Kafka external access
                        </div>
                        <div class="port-item">
                            <strong>29092:</strong> Kafka internal
                        </div>
                        <div class="port-item">
                            <strong>9093:</strong> Controller port
                        </div>
                        <div class="port-item">
                            <strong>8080:</strong> Kafka UI
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resource Allocation Section -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">💻</span>
                    Resource Allocation
                </h2>
                
                <table class="resource-table">
                    <thead>
                        <tr>
                            <th>Service</th>
                            <th>Memory Limit</th>
                            <th>Memory Reservation</th>
                            <th>CPU Limit</th>
                            <th>CPU Reservation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Kafka Broker</td>
                            <td>768 MB</td>
                            <td>256 MB</td>
                            <td>1.0</td>
                            <td>0.5</td>
                        </tr>
                        <tr>
                            <td>Kafka UI</td>
                            <td>384 MB</td>
                            <td>128 MB</td>
                            <td>0.5</td>
                            <td>0.25</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Environment Variables Section -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">🔧</span>
                    Environment Variables Configuration
                </h2>
                
                <p style="color: #555; margin-bottom: 20px;">Complete breakdown of all environment variables used in the Kafka broker configuration:</p>
                
                <!-- KRaft Configuration -->
                <div style="margin-bottom: 30px;">
                    <h3 style="color: #667eea; margin-bottom: 15px; font-size: 1.3em;">📋 KRaft Configuration (No Zookeeper)</h3>
                    <table class="resource-table" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th style="width: 35%;">Variable</th>
                                <th style="width: 25%;">Value</th>
                                <th style="width: 40%;">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_NODE_ID</code></td>
                                <td><strong>1</strong></td>
                                <td>Unique identifier for this Kafka node in the cluster</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_PROCESS_ROLES</code></td>
                                <td><strong>broker,controller</strong></td>
                                <td>Node acts as both broker (handles data) and controller (manages cluster)</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_CONTROLLER_QUORUM_VOTERS</code></td>
                                <td><strong>1@kafka:9093</strong></td>
                                <td>Defines controller nodes for consensus (format: nodeId@host:port)</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_ENABLE_KRAFT</code></td>
                                <td><strong>yes</strong></td>
                                <td>Enables KRaft mode, eliminating Zookeeper dependency</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_KRAFT_CLUSTER_ID</code></td>
                                <td><strong>MkU3OEVBNTcw...</strong></td>
                                <td>Unique cluster identifier for KRaft mode</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Listeners Configuration -->
                <div style="margin-bottom: 30px;">
                    <h3 style="color: #667eea; margin-bottom: 15px; font-size: 1.3em;">🔊 Listeners Configuration</h3>
                    <table class="resource-table" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th style="width: 35%;">Variable</th>
                                <th style="width: 25%;">Value</th>
                                <th style="width: 40%;">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_LISTENERS</code></td>
                                <td style="font-size: 0.9em;"><strong>PLAINTEXT://:29092,<br>CONTROLLER://:9093,<br>PLAINTEXT_HOST://:9092</strong></td>
                                <td>Defines all network interfaces Kafka listens on</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_ADVERTISED_LISTENERS</code></td>
                                <td style="font-size: 0.9em;"><strong>PLAINTEXT://kafka:29092,<br>PLAINTEXT_HOST://localhost:9092</strong></td>
                                <td>Addresses Kafka advertises to clients for connection</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP</code></td>
                                <td style="font-size: 0.9em;"><strong>CONTROLLER:PLAINTEXT,<br>PLAINTEXT:PLAINTEXT,<br>PLAINTEXT_HOST:PLAINTEXT</strong></td>
                                <td>Maps listener names to security protocols (all using PLAINTEXT)</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_CONTROLLER_LISTENER_NAMES</code></td>
                                <td><strong>CONTROLLER</strong></td>
                                <td>Specifies which listener is used for controller communication</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_INTER_BROKER_LISTENER_NAME</code></td>
                                <td><strong>PLAINTEXT</strong></td>
                                <td>Listener used for inter-broker communication</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">ALLOW_PLAINTEXT_LISTENER</code></td>
                                <td><strong>yes</strong></td>
                                <td>Allows unencrypted connections (for development)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Topic Configuration -->
                <div style="margin-bottom: 30px;">
                    <h3 style="color: #667eea; margin-bottom: 15px; font-size: 1.3em;">📚 Topic Configuration</h3>
                    <table class="resource-table" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th style="width: 35%;">Variable</th>
                                <th style="width: 25%;">Value</th>
                                <th style="width: 40%;">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE</code></td>
                                <td><strong>true</strong></td>
                                <td>Automatically creates topics when first referenced</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_NUM_PARTITIONS</code></td>
                                <td><strong>3</strong></td>
                                <td>Default number of partitions for auto-created topics</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_DEFAULT_REPLICATION_FACTOR</code></td>
                                <td><strong>1</strong></td>
                                <td>Number of replicas for each partition (1 = no replication)</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_OFFSETS_TOPIC_REPLICATION_FACTOR</code></td>
                                <td><strong>1</strong></td>
                                <td>Replication factor for internal offsets topic</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_TRANSACTION_STATE_LOG_REPLICATION_FACTOR</code></td>
                                <td><strong>1</strong></td>
                                <td>Replication factor for transaction state log</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_TRANSACTION_STATE_LOG_MIN_ISR</code></td>
                                <td><strong>1</strong></td>
                                <td>Minimum in-sync replicas for transaction log</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Log Retention Configuration -->
                <div style="margin-bottom: 30px;">
                    <h3 style="color: #667eea; margin-bottom: 15px; font-size: 1.3em;">💾 Log Retention & Storage</h3>
                    <table class="resource-table" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th style="width: 35%;">Variable</th>
                                <th style="width: 25%;">Value</th>
                                <th style="width: 40%;">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_LOG_RETENTION_HOURS</code></td>
                                <td><strong>168</strong></td>
                                <td>Keep logs for 168 hours (7 days) before deletion</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_LOG_RETENTION_BYTES</code></td>
                                <td><strong>1073741824</strong></td>
                                <td>Maximum size per partition (1GB) before old segments deleted</td>
                            </tr>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_CFG_LOG_SEGMENT_BYTES</code></td>
                                <td><strong>1073741824</strong></td>
                                <td>Size of each log segment file (1GB)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Performance Settings -->
                <div style="margin-bottom: 30px;">
                    <h3 style="color: #667eea; margin-bottom: 15px; font-size: 1.3em;">⚡ Performance Settings</h3>
                    <table class="resource-table" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th style="width: 35%;">Variable</th>
                                <th style="width: 25%;">Value</th>
                                <th style="width: 40%;">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code style="background: #f4f4f4; padding: 2px 6px; border-radius: 3px;">KAFKA_HEAP_OPTS</code></td>
                                <td><strong>-Xmx512m -Xms256m</strong></td>
                                <td>JVM heap memory: min 256MB, max 512MB</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Important Notes -->
                <div style="background: #e8f5e9; border-left: 4px solid #4caf50; padding: 15px; margin-top: 30px; border-radius: 4px;">
                    <h4 style="color: #2e7d32; margin-bottom: 10px;">💡 Configuration Notes</h4>
                    <ul style="color: #2e7d32; margin: 10px 0; padding-left: 20px;">
                        <li style="margin-bottom: 8px;"><strong>Listener Types Explained:</strong>
                            <ul style="margin-top: 5px;">
                                <li><code>PLAINTEXT</code> (port 29092): For internal container communication</li>
                                <li><code>PLAINTEXT_HOST</code> (port 9092): For external host access</li>
                                <li><code>CONTROLLER</code> (port 9093): For KRaft controller operations</li>
                            </ul>
                        </li>
                        <li style="margin-bottom: 8px;"><strong>Single Node Setup:</strong> All replication factors are set to 1 since this is a single-node development setup</li>
                        <li style="margin-bottom: 8px;"><strong>Auto-Topic Creation:</strong> Enabled for convenience in development, but should be disabled in production</li>
                        <li style="margin-bottom: 8px;"><strong>Memory Settings:</strong> Conservative heap settings suitable for CI/CD environments</li>
                    </ul>
                </div>
            </div>

            <!-- Configuration Details Section -->
            <div class="section">
                <h2 class="section-title">
                    <span class="section-icon">⚙️</span>
                    Configuration Summary
                </h2>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 20px;">
                    <h3 style="color: #2c3e50; margin-bottom: 15px;">Quick Reference</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="padding: 8px 0;"><strong>Cluster ID:</strong> MkU3OEVBNTcwNTJENDM2Qk</li>
                        <li style="padding: 8px 0;"><strong>Node ID:</strong> 1</li>
                        <li style="padding: 8px 0;"><strong>Replication Factor:</strong> 1 (single node)</li>
                        <li style="padding: 8px 0;"><strong>Log Segment Size:</strong> 1GB</li>
                        <li style="padding: 8px 0;"><strong>Log Retention:</strong> 7 days</li>
                        <li style="padding: 8px 0;"><strong>Default Partitions:</strong> 3</li>
                        <li style="padding: 8px 0;"><strong>Authentication:</strong> Plaintext (disabled for simplicity)</li>
                        <li style="padding: 8px 0;"><strong>Network:</strong> snaplogicnet (bridge)</li>
                        <li style="padding: 8px 0;"><strong>Volume:</strong> kafka-kraft-data</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>📚 Kafka Docker Compose Configuration Documentation</p>
            <p style="margin-top: 10px; font-size: 0.9em;">
                Built for SnapLogic Robot Framework Examples | 
                <a href="https://kafka.apache.org/">Apache Kafka</a> | 
                <a href="https://github.com/provectus/kafka-ui">Kafka UI</a>
            </p>
        </div>
    </div>
</body>
</html>